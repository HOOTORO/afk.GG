import { DustChest } from "./types.js";
export var elTag;
(function (elTag) {
    elTag["Input"] = "input";
    elTag["Div"] = "div";
    elTag["Span"] = "span";
    elTag["Label"] = "label";
    elTag["Select"] = "select";
    elTag["Option"] = "option";
    elTag["Form"] = "form";
    elTag["Img"] = "img";
    elTag["tr"] = "tr";
    elTag["td"] = "td";
    elTag["th"] = "th";
    elTag["Table"] = "table";
    elTag["Thead"] = "thead";
    elTag["Tbody"] = "tbody";
    elTag["Button"] = "button";
    elTag["Output"] = "output";
})(elTag || (elTag = {}));
export var elProp;
(function (elProp) {
    elProp["Id"] = "id";
    elProp["Class"] = "class";
    elProp["For"] = "for";
    elProp["Alt"] = "alt";
    elProp["Src"] = "src";
    elProp["Width"] = "width";
    elProp["Style"] = "style";
    elProp["Type"] = "type";
})(elProp || (elProp = {}));
export var Input;
(function (Input) {
    Input["Number"] = "number";
    Input["Text"] = "text";
    Input["CheckBox"] = "checkbox";
    Input["Datetime"] = "datetime-local";
})(Input || (Input = {}));
export const RelicBase = 18;
export const AbExSellModifier = 0.4;
export const aeIcons = {
    stam: "https://i.imgur.com/n5WOzSZ.png",
    coin: "https://i.imgur.com/Gw216PZ.png",
    ess: "https://i.imgur.com/Gw216PZ.png",
};
const relicEstimateTable = `
  <thead>
    <tr>
      <th align="center" colspan=4>Expeditor Data</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align=center>Income</td>
      <td align=center> <img src=${aeIcons.coin} width=20></td>
      <td align=center>Relic Type</td>
      <td align=center>Drop Timers</td>
    </tr>
    <tr>
      <td align=center><b>[ $tw settlements ]</b></td>
      <td align=center>$inc</td>
      <td align=center>$tier</td>
      <td align=center>$drop</td>
    </tr>
    <tr>
          <td align=center colspan=4>GOAL</td>
    </tr>
    <tr>
      <td colspan=2>Remain</td>
      <td colspan=1><img src=${aeIcons.coin} width=20 style="margin-left:20px"></td>
      <td colspan=1>TIME</td>
    </tr>        
    <tr>
       <td colspan=2></td>
       <td colspan=1>$gc</td>
      <td colspan=1>$tl</td>
    </tr>    
    <tr>
      <td align=center colspan=4>BAG</td>
    </tr>
      <tr>
        <td align=center colspan=1>KEEP</td>
        <td align=center colspan=3>$tg</td>
      </tr>

      <tr>
        <td align=center colspan=1>SELL♻️</td>
        <td align=right colspan=3>$toSell</td>
      </tr>
  </tbody>

`;
class Period {
    static hour = 1;
    static day = 24 * this.hour;
    static week = 7 * this.day;
    static month = 30 * this.day;
}
const iconSize = 38;
class AfkArena {
    static levelup = 44500;
    static dustInc() {
        const base = 1167 / Period.day, fos = base * 1.6 + 385 / Period.day;
        return base + fos;
    }
    static storeDust() {
        return 500 / Period.day;
    }
    static fastRewards() {
        return (this.dustInc() * 2) / Period.day;
    }
    static storeDiDeal() {
        return new DustChest(3, 8).dust() / Period.day;
    }
    static subsChest() {
        return new DustChest(2, 6).dust() / Period.day;
    }
    static dailyPile() {
        return new DustChest(1, 2).dust() / Period.day;
    }
    static mistyValley() {
        const base = new DustChest(12, 8);
        const firstReward = new DustChest(12, 8);
        return (base.dust() + firstReward.dust()) / Period.month;
    }
}
class AbEx {
    static now = new Date();
    static abexDurationDays = 19;
    static silentDay = 1;
    static spectatorMod = 1.2;
    static sodFastenMod = 0.9;
    static startD = new Date();
    static start() {
        return new Date();
    }
    static left() {
        return new Date(this.startD.getUTCFullYear(), this.startD.getUTCMonth(), this.startD.getUTCDate() + this.abexDurationDays, this.startD.getUTCHours(), this.startD.getUTCMinutes());
    }
    static silentHoursIn() {
        return new Date(this.startD.getUTCFullYear(), this.startD.getUTCMonth(), this.startD.getUTCDate() - this.silentDay, this.startD.getUTCHours(), this.startD.getUTCMinutes());
    }
    static hoursLeft() {
        return ((this.silentHoursIn().getTime() - this.now.getTime()) / 1000 / 60 / 60);
    }
}
class Boss {
    static foodCost = 48;
    static retry = 4;
}
class ValueModes extends AfkArena {
    static rSources = [
        {
            id: "cursed-realm",
            label: "Cursed Realm",
            tableName: "CR",
            period: 7,
            display: true,
        },
        {
            id: "treasure-scramble",
            label: "Treasure Scramble",
            tableName: "TS",
            period: 7,
            display: true,
        },
        {
            id: "nightmare-corridor",
            label: "Nightmare Corridor",
            tableName: "NC",
            period: 7,
            display: true,
        },
        {
            id: "afk-income",
            label: "Base AFK Income",
            tableName: "AFK",
            period: 1 / 24,
            display: false,
        },
    ];
    static gMode(x) {
        const source = this.rSources.find((y) => y.id === x || y.label === x || y.tableName === x);
        if (!source) {
            throw new Error("Unknown Source Mode");
        }
        return Object.values(GameMode).find((y) => y === source.tableName);
    }
}
const allRes = [
    "dia",
    "bait",
    "redc",
    "yells",
    "emblcc",
    "timee",
    "stars",
    "poe",
    "dust",
    "twise",
    "mythfs",
    "secrs",
];
var GameMode;
(function (GameMode) {
    GameMode["CR"] = "CR";
    GameMode["TS"] = "TS";
    GameMode["NC"] = "NC";
    GameMode["all"] = "all";
})(GameMode || (GameMode = {}));
const verb = true;
const sheetId = "1_L4LmobsOtmVeBi3RwTCespyMq4vZLSJT1E-QOsXpoY";
const base = `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?`;
const query = encodeURIComponent("Select *");
const url = function (x) {
    return `${base}&sheet=${x}&tq=${query}`;
};
export { AbEx, AfkArena, Boss, GameMode, Period, ValueModes, allRes, base, iconSize, query, relicEstimateTable, sheetId, url, verb, };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL21vZGVsL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ3ZDLE1BQU0sQ0FBTixJQUFZLEtBbUJYO0FBbkJELFdBQVksS0FBSztJQUNmLHdCQUFlLENBQUE7SUFDZixvQkFBVyxDQUFBO0lBRVgsc0JBQWEsQ0FBQTtJQUNiLHdCQUFlLENBQUE7SUFDZiwwQkFBaUIsQ0FBQTtJQUVqQiwwQkFBaUIsQ0FBQTtJQUNqQixzQkFBYSxDQUFBO0lBQ2Isb0JBQVcsQ0FBQTtJQUNYLGtCQUFTLENBQUE7SUFDVCxrQkFBUyxDQUFBO0lBQ1Qsa0JBQVMsQ0FBQTtJQUNULHdCQUFlLENBQUE7SUFDZix3QkFBZSxDQUFBO0lBQ2Ysd0JBQWUsQ0FBQTtJQUNmLDBCQUFpQixDQUFBO0lBQ2pCLDBCQUFpQixDQUFBO0FBQ25CLENBQUMsRUFuQlcsS0FBSyxLQUFMLEtBQUssUUFtQmhCO0FBRUQsTUFBTSxDQUFOLElBQVksTUFTWDtBQVRELFdBQVksTUFBTTtJQUNoQixtQkFBUyxDQUFBO0lBQ1QseUJBQWUsQ0FBQTtJQUNmLHFCQUFXLENBQUE7SUFDWCxxQkFBVyxDQUFBO0lBQ1gscUJBQVcsQ0FBQTtJQUNYLHlCQUFlLENBQUE7SUFDZix5QkFBZSxDQUFBO0lBQ2YsdUJBQWEsQ0FBQTtBQUNmLENBQUMsRUFUVyxNQUFNLEtBQU4sTUFBTSxRQVNqQjtBQUNELE1BQU0sQ0FBTixJQUFZLEtBS1g7QUFMRCxXQUFZLEtBQUs7SUFDZiwwQkFBaUIsQ0FBQTtJQUNqQixzQkFBYSxDQUFBO0lBQ2IsOEJBQXFCLENBQUE7SUFDckIsb0NBQTJCLENBQUE7QUFDN0IsQ0FBQyxFQUxXLEtBQUssS0FBTCxLQUFLLFFBS2hCO0FBQ0QsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLEVBQUUsQ0FB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TTtJQUNOLE1BQU07SUFDTixPQUFPO0lBQ1AsUUFBUTtJQUNSLE9BQU87SUFDUCxPQUFPO0lBQ1AsS0FBSztJQUNMLE1BQU07SUFDTixPQUFPO0lBQ1AsUUFBUTtJQUNSLE9BQU87Q0FDUixDQUFDO0FBRUYsSUFBSyxRQUtKO0FBTEQsV0FBSyxRQUFRO0lBQ1gscUJBQVMsQ0FBQTtJQUNULHFCQUFTLENBQUE7SUFDVCxxQkFBUyxDQUFBO0lBQ1QsdUJBQVcsQ0FBQTtBQUNiLENBQUMsRUFMSSxRQUFRLEtBQVIsUUFBUSxRQUtaO0FBRUQsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBRWxCLE1BQU0sT0FBTyxHQUFHLDhDQUE4QyxDQUFDO0FBQy9ELE1BQU0sSUFBSSxHQUFHLDBDQUEwQyxPQUFPLFdBQVcsQ0FBQztBQUMxRSxNQUFNLEtBQUssR0FBRyxrQkFBa0IsQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUM3QyxNQUFNLEdBQUcsR0FBRyxVQUFVLENBQVM7SUFDN0IsT0FBTyxHQUFHLElBQUksVUFBVSxDQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7QUFDMUMsQ0FBQyxDQUFDO0FBRUYsT0FBTyxFQUNMLElBQUksRUFDSixRQUFRLEVBQ1IsSUFBSSxFQUNKLFFBQVEsRUFDUixNQUFNLEVBQ04sVUFBVSxFQUNWLE1BQU0sRUFDTixJQUFJLEVBRUosUUFBUSxFQUNSLEtBQUssRUFDTCxrQkFBa0IsRUFDbEIsT0FBTyxFQUNQLEdBQUcsRUFDSCxJQUFJLEdBQ0wsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IER1c3RDaGVzdCB9IGZyb20gXCIuL3R5cGVzLmpzXCI7XG5leHBvcnQgZW51bSBlbFRhZyB7XG4gIElucHV0ID0gXCJpbnB1dFwiLFxuICBEaXYgPSBcImRpdlwiLFxuXG4gIFNwYW4gPSBcInNwYW5cIixcbiAgTGFiZWwgPSBcImxhYmVsXCIsXG4gIFNlbGVjdCA9IFwic2VsZWN0XCIsXG5cbiAgT3B0aW9uID0gXCJvcHRpb25cIixcbiAgRm9ybSA9IFwiZm9ybVwiLFxuICBJbWcgPSBcImltZ1wiLFxuICB0ciA9IFwidHJcIixcbiAgdGQgPSBcInRkXCIsXG4gIHRoID0gXCJ0aFwiLFxuICBUYWJsZSA9IFwidGFibGVcIixcbiAgVGhlYWQgPSBcInRoZWFkXCIsXG4gIFRib2R5ID0gXCJ0Ym9keVwiLFxuICBCdXR0b24gPSBcImJ1dHRvblwiLFxuICBPdXRwdXQgPSBcIm91dHB1dFwiLFxufVxuXG5leHBvcnQgZW51bSBlbFByb3Age1xuICBJZCA9IFwiaWRcIixcbiAgQ2xhc3MgPSBcImNsYXNzXCIsXG4gIEZvciA9IFwiZm9yXCIsXG4gIEFsdCA9IFwiYWx0XCIsXG4gIFNyYyA9IFwic3JjXCIsXG4gIFdpZHRoID0gXCJ3aWR0aFwiLFxuICBTdHlsZSA9IFwic3R5bGVcIixcbiAgVHlwZSA9IFwidHlwZVwiLFxufVxuZXhwb3J0IGVudW0gSW5wdXQge1xuICBOdW1iZXIgPSBcIm51bWJlclwiLFxuICBUZXh0ID0gXCJ0ZXh0XCIsXG4gIENoZWNrQm94ID0gXCJjaGVja2JveFwiLFxuICBEYXRldGltZSA9IFwiZGF0ZXRpbWUtbG9jYWxcIixcbn1cbmV4cG9ydCBjb25zdCBSZWxpY0Jhc2UgPSAxODtcbmV4cG9ydCBjb25zdCBBYkV4U2VsbE1vZGlmaWVyID0gMC40O1xuXG5leHBvcnQgY29uc3QgYWVJY29ucyA9IHtcbiAgc3RhbTogXCJodHRwczovL2kuaW1ndXIuY29tL241V096U1oucG5nXCIsXG4gIGNvaW46IFwiaHR0cHM6Ly9pLmltZ3VyLmNvbS9HdzIxNlBaLnBuZ1wiLFxuICBlc3M6IFwiaHR0cHM6Ly9pLmltZ3VyLmNvbS9HdzIxNlBaLnBuZ1wiLFxufTtcblxuY29uc3QgcmVsaWNFc3RpbWF0ZVRhYmxlID0gYFxuICA8dGhlYWQ+XG4gICAgPHRyPlxuICAgICAgPHRoIGFsaWduPVwiY2VudGVyXCIgY29sc3Bhbj00PkV4cGVkaXRvciBEYXRhPC90aD5cbiAgICA8L3RyPlxuICA8L3RoZWFkPlxuICA8dGJvZHk+XG4gICAgPHRyPlxuICAgICAgPHRkIGFsaWduPWNlbnRlcj5JbmNvbWU8L3RkPlxuICAgICAgPHRkIGFsaWduPWNlbnRlcj4gPGltZyBzcmM9JHthZUljb25zLmNvaW59IHdpZHRoPTIwPjwvdGQ+XG4gICAgICA8dGQgYWxpZ249Y2VudGVyPlJlbGljIFR5cGU8L3RkPlxuICAgICAgPHRkIGFsaWduPWNlbnRlcj5Ecm9wIFRpbWVyczwvdGQ+XG4gICAgPC90cj5cbiAgICA8dHI+XG4gICAgICA8dGQgYWxpZ249Y2VudGVyPjxiPlsgJHR3IHNldHRsZW1lbnRzIF08L2I+PC90ZD5cbiAgICAgIDx0ZCBhbGlnbj1jZW50ZXI+JGluYzwvdGQ+XG4gICAgICA8dGQgYWxpZ249Y2VudGVyPiR0aWVyPC90ZD5cbiAgICAgIDx0ZCBhbGlnbj1jZW50ZXI+JGRyb3A8L3RkPlxuICAgIDwvdHI+XG4gICAgPHRyPlxuICAgICAgICAgIDx0ZCBhbGlnbj1jZW50ZXIgY29sc3Bhbj00PkdPQUw8L3RkPlxuICAgIDwvdHI+XG4gICAgPHRyPlxuICAgICAgPHRkIGNvbHNwYW49Mj5SZW1haW48L3RkPlxuICAgICAgPHRkIGNvbHNwYW49MT48aW1nIHNyYz0ke2FlSWNvbnMuY29pbn0gd2lkdGg9MjAgc3R5bGU9XCJtYXJnaW4tbGVmdDoyMHB4XCI+PC90ZD5cbiAgICAgIDx0ZCBjb2xzcGFuPTE+VElNRTwvdGQ+XG4gICAgPC90cj4gICAgICAgIFxuICAgIDx0cj5cbiAgICAgICA8dGQgY29sc3Bhbj0yPjwvdGQ+XG4gICAgICAgPHRkIGNvbHNwYW49MT4kZ2M8L3RkPlxuICAgICAgPHRkIGNvbHNwYW49MT4kdGw8L3RkPlxuICAgIDwvdHI+ICAgIFxuICAgIDx0cj5cbiAgICAgIDx0ZCBhbGlnbj1jZW50ZXIgY29sc3Bhbj00PkJBRzwvdGQ+XG4gICAgPC90cj5cbiAgICAgIDx0cj5cbiAgICAgICAgPHRkIGFsaWduPWNlbnRlciBjb2xzcGFuPTE+S0VFUDwvdGQ+XG4gICAgICAgIDx0ZCBhbGlnbj1jZW50ZXIgY29sc3Bhbj0zPiR0ZzwvdGQ+XG4gICAgICA8L3RyPlxuXG4gICAgICA8dHI+XG4gICAgICAgIDx0ZCBhbGlnbj1jZW50ZXIgY29sc3Bhbj0xPlNFTEzimbvvuI88L3RkPlxuICAgICAgICA8dGQgYWxpZ249cmlnaHQgY29sc3Bhbj0zPiR0b1NlbGw8L3RkPlxuICAgICAgPC90cj5cbiAgPC90Ym9keT5cblxuYDtcblxuLy8gY29uc3QgRmxhd2xlc3NEcm9wbGV0cyA9IHtcbi8vICAgICAgIEU6IDEsXG4vLyAgICAgICBcIkUrXCI6IDEsXG4vLyAgICAgICBMOiA0LFxuLy8gICAgICAgXCJMK1wiOiAyLFxuLy8gICAgICAgTTogOCxcbi8vICAgICAgIFwiTStcIjogOCxcbi8vICAgICAgIEE6IDQsXG4vLyAgICAgICBBMTogMixcbi8vICAgICAgIEEyOiAyLFxuLy8gICAgICAgQTM6IDIsXG4vLyAgICAgICBBNDogMixcbi8vICAgICAgIEE1OiAyLFxuLy8gICAgIH07XG5jbGFzcyBQZXJpb2Qge1xuICBzdGF0aWMgaG91ciA9IDE7XG4gIHN0YXRpYyBkYXkgPSAyNCAqIHRoaXMuaG91cjtcbiAgc3RhdGljIHdlZWsgPSA3ICogdGhpcy5kYXk7XG4gIHN0YXRpYyBtb250aCA9IDMwICogdGhpcy5kYXk7XG59XG5cbmNvbnN0IGljb25TaXplID0gMzg7XG5cbmNsYXNzIEFma0FyZW5hIHtcbiAgc3RhdGljIGxldmVsdXAgPSA0NDUwMDtcblxuICBzdGF0aWMgZHVzdEluYygpIHtcbiAgICBjb25zdCBiYXNlID0gMTE2NyAvIFBlcmlvZC5kYXksXG4gICAgICBmb3MgPSBiYXNlICogMS42ICsgMzg1IC8gUGVyaW9kLmRheTtcbiAgICByZXR1cm4gYmFzZSArIGZvcztcbiAgfVxuXG4gIHN0YXRpYyBzdG9yZUR1c3QoKSB7XG4gICAgcmV0dXJuIDUwMCAvIFBlcmlvZC5kYXk7XG4gIH1cblxuICBzdGF0aWMgZmFzdFJld2FyZHMoKSB7XG4gICAgcmV0dXJuICh0aGlzLmR1c3RJbmMoKSAqIDIpIC8gUGVyaW9kLmRheTtcbiAgfVxuXG4gIHN0YXRpYyBzdG9yZURpRGVhbCgpIHtcbiAgICByZXR1cm4gbmV3IER1c3RDaGVzdCgzLCA4KS5kdXN0KCkgLyBQZXJpb2QuZGF5O1xuICB9XG5cbiAgc3RhdGljIHN1YnNDaGVzdCgpIHtcbiAgICByZXR1cm4gbmV3IER1c3RDaGVzdCgyLCA2KS5kdXN0KCkgLyBQZXJpb2QuZGF5O1xuICB9XG5cbiAgc3RhdGljIGRhaWx5UGlsZSgpIHtcbiAgICByZXR1cm4gbmV3IER1c3RDaGVzdCgxLCAyKS5kdXN0KCkgLyBQZXJpb2QuZGF5O1xuICB9XG5cbiAgc3RhdGljIG1pc3R5VmFsbGV5KCkge1xuICAgIGNvbnN0IGJhc2UgPSBuZXcgRHVzdENoZXN0KDEyLCA4KTtcbiAgICBjb25zdCBmaXJzdFJld2FyZCA9IG5ldyBEdXN0Q2hlc3QoMTIsIDgpO1xuICAgIHJldHVybiAoYmFzZS5kdXN0KCkgKyBmaXJzdFJld2FyZC5kdXN0KCkpIC8gUGVyaW9kLm1vbnRoO1xuICB9XG59XG5cbmNsYXNzIEFiRXgge1xuICBzdGF0aWMgbm93ID0gbmV3IERhdGUoKTtcbiAgc3RhdGljIGFiZXhEdXJhdGlvbkRheXMgPSAxOTtcbiAgc3RhdGljIHNpbGVudERheSA9IDE7XG4gIHN0YXRpYyBzcGVjdGF0b3JNb2QgPSAxLjI7XG4gIHN0YXRpYyBzb2RGYXN0ZW5Nb2QgPSAwLjk7XG4gIHN0YXRpYyBzdGFydEQgPSBuZXcgRGF0ZSgpO1xuXG4gIHN0YXRpYyBzdGFydCgpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoKTtcbiAgfVxuXG4gIHN0YXRpYyBsZWZ0KCkge1xuICAgIHJldHVybiBuZXcgRGF0ZShcbiAgICAgIHRoaXMuc3RhcnRELmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICB0aGlzLnN0YXJ0RC5nZXRVVENNb250aCgpLFxuICAgICAgdGhpcy5zdGFydEQuZ2V0VVRDRGF0ZSgpICsgdGhpcy5hYmV4RHVyYXRpb25EYXlzLFxuICAgICAgdGhpcy5zdGFydEQuZ2V0VVRDSG91cnMoKSxcbiAgICAgIHRoaXMuc3RhcnRELmdldFVUQ01pbnV0ZXMoKVxuICAgICk7XG4gIH1cblxuICBzdGF0aWMgc2lsZW50SG91cnNJbigpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoXG4gICAgICB0aGlzLnN0YXJ0RC5nZXRVVENGdWxsWWVhcigpLFxuICAgICAgdGhpcy5zdGFydEQuZ2V0VVRDTW9udGgoKSxcbiAgICAgIHRoaXMuc3RhcnRELmdldFVUQ0RhdGUoKSAtIHRoaXMuc2lsZW50RGF5LFxuICAgICAgdGhpcy5zdGFydEQuZ2V0VVRDSG91cnMoKSxcbiAgICAgIHRoaXMuc3RhcnRELmdldFVUQ01pbnV0ZXMoKVxuICAgICk7XG4gIH1cblxuICBzdGF0aWMgaG91cnNMZWZ0KCkge1xuICAgIHJldHVybiAoXG4gICAgICAodGhpcy5zaWxlbnRIb3Vyc0luKCkuZ2V0VGltZSgpIC0gdGhpcy5ub3cuZ2V0VGltZSgpKSAvIDEwMDAgLyA2MCAvIDYwXG4gICAgKTtcbiAgfVxufVxuXG5jbGFzcyBCb3NzIHtcbiAgc3RhdGljIGZvb2RDb3N0ID0gNDg7XG4gIHN0YXRpYyByZXRyeSA9IDQ7XG59XG5cbmNsYXNzIFZhbHVlTW9kZXMgZXh0ZW5kcyBBZmtBcmVuYSB7XG4gIHN0YXRpYyByU291cmNlcyA9IFtcbiAgICB7XG4gICAgICBpZDogXCJjdXJzZWQtcmVhbG1cIixcbiAgICAgIGxhYmVsOiBcIkN1cnNlZCBSZWFsbVwiLFxuICAgICAgdGFibGVOYW1lOiBcIkNSXCIsXG4gICAgICBwZXJpb2Q6IDcsXG4gICAgICBkaXNwbGF5OiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwidHJlYXN1cmUtc2NyYW1ibGVcIixcbiAgICAgIGxhYmVsOiBcIlRyZWFzdXJlIFNjcmFtYmxlXCIsXG4gICAgICB0YWJsZU5hbWU6IFwiVFNcIixcbiAgICAgIHBlcmlvZDogNyxcbiAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJuaWdodG1hcmUtY29ycmlkb3JcIixcbiAgICAgIGxhYmVsOiBcIk5pZ2h0bWFyZSBDb3JyaWRvclwiLFxuICAgICAgdGFibGVOYW1lOiBcIk5DXCIsXG4gICAgICBwZXJpb2Q6IDcsXG4gICAgICBkaXNwbGF5OiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwiYWZrLWluY29tZVwiLFxuICAgICAgbGFiZWw6IFwiQmFzZSBBRksgSW5jb21lXCIsXG4gICAgICB0YWJsZU5hbWU6IFwiQUZLXCIsXG4gICAgICBwZXJpb2Q6IDEgLyAyNCxcbiAgICAgIGRpc3BsYXk6IGZhbHNlLFxuICAgIH0sXG4gIF07XG5cbiAgc3RhdGljIGdNb2RlKHg6IHN0cmluZykge1xuICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuclNvdXJjZXMuZmluZChcbiAgICAgICh5KSA9PiB5LmlkID09PSB4IHx8IHkubGFiZWwgPT09IHggfHwgeS50YWJsZU5hbWUgPT09IHhcbiAgICApO1xuICAgIGlmICghc291cmNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIFNvdXJjZSBNb2RlXCIpO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhHYW1lTW9kZSkuZmluZChcbiAgICAgICh5KSA9PiAoeSBhcyBzdHJpbmcpID09PSBzb3VyY2UudGFibGVOYW1lXG4gICAgKTtcbiAgfVxufVxuXG50eXBlIGJyZXMgPVxuICB8IFwiZGlhXCJcbiAgfCBcImJhaXRcIlxuICB8IFwicmVkY1wiXG4gIHwgXCJ5ZWxsc1wiXG4gIHwgXCJlbWJsY2NcIlxuICB8IFwidGltZWVcIlxuICB8IFwic3RhcnNcIlxuICB8IFwicG9lXCJcbiAgfCBcImR1c3RcIlxuICB8IFwidHdpc2VcIlxuICB8IFwibXl0aGZzXCJcbiAgfCBcInNlY3JzXCI7XG5cbmNvbnN0IGFsbFJlcyA9IFtcbiAgXCJkaWFcIixcbiAgXCJiYWl0XCIsXG4gIFwicmVkY1wiLFxuICBcInllbGxzXCIsXG4gIFwiZW1ibGNjXCIsXG4gIFwidGltZWVcIixcbiAgXCJzdGFyc1wiLFxuICBcInBvZVwiLFxuICBcImR1c3RcIixcbiAgXCJ0d2lzZVwiLFxuICBcIm15dGhmc1wiLFxuICBcInNlY3JzXCIsXG5dO1xuXG5lbnVtIEdhbWVNb2RlIHtcbiAgQ1IgPSBcIkNSXCIsXG4gIFRTID0gXCJUU1wiLFxuICBOQyA9IFwiTkNcIixcbiAgYWxsID0gXCJhbGxcIixcbn1cblxuY29uc3QgdmVyYiA9IHRydWU7XG5cbmNvbnN0IHNoZWV0SWQgPSBcIjFfTDRMbW9ic090bVZlQmkzUndUQ2VzcHlNcTR2WkxTSlQxRS1RT3NYcG9ZXCI7XG5jb25zdCBiYXNlID0gYGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kLyR7c2hlZXRJZH0vZ3Zpei90cT9gO1xuY29uc3QgcXVlcnkgPSBlbmNvZGVVUklDb21wb25lbnQoXCJTZWxlY3QgKlwiKTtcbmNvbnN0IHVybCA9IGZ1bmN0aW9uICh4OiBzdHJpbmcpIHtcbiAgcmV0dXJuIGAke2Jhc2V9JnNoZWV0PSR7eH0mdHE9JHtxdWVyeX1gO1xufTtcblxuZXhwb3J0IHtcbiAgQWJFeCxcbiAgQWZrQXJlbmEsXG4gIEJvc3MsXG4gIEdhbWVNb2RlLFxuICBQZXJpb2QsXG4gIFZhbHVlTW9kZXMsXG4gIGFsbFJlcyxcbiAgYmFzZSxcbiAgYnJlcyxcbiAgaWNvblNpemUsXG4gIHF1ZXJ5LFxuICByZWxpY0VzdGltYXRlVGFibGUsXG4gIHNoZWV0SWQsXG4gIHVybCxcbiAgdmVyYixcbn07XG4iXX0=