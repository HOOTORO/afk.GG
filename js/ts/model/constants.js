import { DustChest } from "./types.js";
export const RelicBase = 18;
export const AbExSellModifier = 0.4;
export const aeIcons = {
    stam: "https://i.imgur.com/n5WOzSZ.png",
    coin: "https://i.imgur.com/Gw216PZ.png",
    ess: "https://i.imgur.com/Gw216PZ.png",
    bpEnter: "https://i.imgur.com/j6qEANW.png",
    bpEnterImg: "https://i.imgur.com/QxSfSFU.png",
};
const relicEstimateTable = `
  <thead>
    <tr>
      <th align="center" colspan=4>Expeditor Data</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align=center>Income</td>
      <td align=center> <img src=${aeIcons.coin} width=20></td>
      <td align=center>Relic Type</td>
      <td align=center>Drop Timers</td>
    </tr>
    <tr>
      <td align=center><b>[ $tw settlements ]</b></td>
      <td align=center>$inc</td>
      <td align=center>$tier</td>
      <td align=center>$drop</td>
    </tr>
    <tr>
          <td align=center colspan=4>GOAL</td>
    </tr>
    <tr>
      <td colspan=2>Remain</td>
      <td colspan=1><img src=${aeIcons.coin} width=20 style="margin-left:20px"></td>
      <td colspan=1>TIME</td>
    </tr>        
    <tr>
       <td colspan=2></td>
       <td colspan=1>$gc</td>
      <td colspan=1>$tl</td>
    </tr>    
    <tr>
      <td align=center colspan=4>BAG</td>
    </tr>
      <tr>
        <td align=center colspan=1>KEEP</td>
        <td align=center colspan=3>$tg</td>
      </tr>

      <tr>
        <td align=center colspan=1>SELL♻️</td>
        <td align=right colspan=3>$toSell</td>
      </tr>
  </tbody>

`;
class Period {
    static hour = 1;
    static day = 24 * this.hour;
    static week = 7 * this.day;
    static month = 30 * this.day;
}
const iconSize = 38;
class AfkArena {
    static levelup = 44500;
    static dustInc() {
        const base = 1167 / Period.day, fos = base * 1.6 + 385 / Period.day;
        return base + fos;
    }
    static storeDust() {
        return 500 / Period.day;
    }
    static fastRewards() {
        return (this.dustInc() * 2) / Period.day;
    }
    static storeDiDeal() {
        return new DustChest(3, 8).dust() / Period.day;
    }
    static subsChest() {
        return new DustChest(2, 6).dust() / Period.day;
    }
    static dailyPile() {
        return new DustChest(1, 2).dust() / Period.day;
    }
    static mistyValley() {
        const base = new DustChest(12, 8);
        const firstReward = new DustChest(12, 8);
        return (base.dust() + firstReward.dust()) / Period.month;
    }
}
class AbEx {
    static now = new Date();
    static abexDurationDays = 19;
    static silentDay = 1;
    static viewerMultiplier = 1.2;
    static starFasterRecoveryMod = 0.9;
    static start() {
        return new Date(document.getElementById("abex-date").nodeValue);
    }
    static left() {
        return new Date(this.start().getUTCFullYear(), this.start().getUTCMonth(), this.start().getUTCDate() + this.abexDurationDays, this.start().getUTCHours(), this.start().getUTCMinutes());
    }
    static silentHoursIn() {
        return new Date(this.left().getUTCFullYear(), this.left().getUTCMonth(), this.left().getUTCDate() - this.silentDay, this.left().getUTCHours(), this.left().getUTCMinutes());
    }
    static hoursLeft() {
        return ((this.silentHoursIn().getTime() - this.now.getTime()) / 1000 / 60 / 60);
    }
}
class Boss {
    static foodCost = 48;
    static retry = 4;
}
class ValueModes extends AfkArena {
    static rSources = [
        {
            id: "cursed-realm",
            label: "Cursed Realm",
            tableName: "CR",
            period: 7,
            display: true,
        },
        {
            id: "treasure-scramble",
            label: "Treasure Scramble",
            tableName: "TS",
            period: 7,
            display: true,
        },
        {
            id: "nightmare-corridor",
            label: "Nightmare Corridor",
            tableName: "NC",
            period: 7,
            display: true,
        },
        {
            id: "afk-income",
            label: "Base AFK Income",
            tableName: "AFK",
            period: 1 / 24,
            display: false,
        },
    ];
    static emuns() {
        return this.rSources.map((x) => {
            return { id: x.id, table: x.tableName };
        });
    }
    static gMode(x) {
        const source = this.rSources.find((y) => y.id === x || y.label === x || y.tableName === x);
        if (!source) {
            throw new Error("Unknown Source Mode");
        }
        return Object.values(GameMode).find((y) => y === source.tableName);
    }
}
const allRes = [
    "dia",
    "bait",
    "redc",
    "yells",
    "emblcc",
    "timee",
    "stars",
    "poe",
    "dust",
    "twise",
    "mythfs",
    "secrs",
];
var GameMode;
(function (GameMode) {
    GameMode["CR"] = "CR";
    GameMode["TS"] = "TS";
    GameMode["NC"] = "NC";
    GameMode["all"] = "all";
})(GameMode || (GameMode = {}));
const verb = true;
const xh = `
    <div>
        <span id="rangeValue">1 week</span>
        <input class="range" type="range" name="times" value="1" min="1" max="52"  list="values" />
<datalist id="values">
`;
const leftover = `
</datalist>
    </div>
`;
const userFields = [
    { name: "cursed-realm", type: "select", src: "gsheet" },
    { name: "treasure-scramble", type: "select", src: "gsheet" },
    { name: "nightmare-corridor", type: "select", src: "gsheet" },
];
const sheetId = "1_L4LmobsOtmVeBi3RwTCespyMq4vZLSJT1E-QOsXpoY";
const base = `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?`;
const query = encodeURIComponent("Select *");
const url = function (x) {
    return `${base}&sheet=${x}&tq=${query}`;
};
export { AbEx, AfkArena, Boss, GameMode, Period, ValueModes, allRes, base, iconSize, leftover, query, relicEstimateTable, sheetId, url, userFields, verb, xh, };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL21vZGVsL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBRXZDLE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxFQUFFLENBQUM7QUFDNUIsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsR0FBRyxDQUFDO0FBRXBDLE1BQU0sQ0FBQyxNQUFNLE9BQU8sR0FBRztJQUNyQixJQUFJLEVBQUUsaUNBQWlDO0lBQ3ZDLElBQUksRUFBRSxpQ0FBaUM7SUFDdkMsR0FBRyxFQUFFLGlDQUFpQztJQUN0QyxPQUFPLEVBQUUsaUNBQWlDO0lBQzFDLFVBQVUsRUFBRSxpQ0FBaUM7Q0FDOUMsQ0FBQztBQUVGLE1BQU0sa0JBQWtCLEdBQUc7Ozs7Ozs7OzttQ0FTUSxPQUFPLENBQUMsSUFBSTs7Ozs7Ozs7Ozs7Ozs7OytCQWVoQixPQUFPLENBQUMsSUFBSTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQXNCMUMsQ0FBQztBQWtDRixNQUFNLE1BQU07SUFDVixNQUFNLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztJQUNoQixNQUFNLENBQUMsR0FBRyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQzVCLE1BQU0sQ0FBQyxJQUFJLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7SUFDM0IsTUFBTSxDQUFDLEtBQUssR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQzs7QUFHL0IsTUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBRXBCLE1BQU0sUUFBUTtJQUNaLE1BQU0sQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO0lBRXZCLE1BQU0sQ0FBQyxPQUFPO1FBQ1osTUFBTSxJQUFJLEdBQUcsSUFBSSxHQUFHLE1BQU0sQ0FBQyxHQUFHLEVBQzVC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LEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRTtJQUN2RCxFQUFFLElBQUksRUFBRSxtQkFBbUIsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUU7SUFDNUQsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFO0NBRTlELENBQUM7QUFFRixNQUFNLE9BQU8sR0FBRyw4Q0FBOEMsQ0FBQztBQUMvRCxNQUFNLElBQUksR0FBRywwQ0FBMEMsT0FBTyxXQUFXLENBQUM7QUFDMUUsTUFBTSxLQUFLLEdBQUcsa0JBQWtCLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDN0MsTUFBTSxHQUFHLEdBQUcsVUFBVSxDQUFTO0lBQzdCLE9BQU8sR0FBRyxJQUFJLFVBQVUsQ0FBQyxPQUFPLEtBQUssRUFBRSxDQUFDO0FBQzFDLENBQUMsQ0FBQztBQUVGLE9BQU8sRUFDTCxJQUFJLEVBQ0osUUFBUSxFQUNSLElBQUksRUFDSixRQUFRLEVBQ1IsTUFBTSxFQUNOLFVBQVUsRUFDVixNQUFNLEVBQ04sSUFBSSxFQUVKLFFBQVEsRUFDUixRQUFRLEVBQ1IsS0FBSyxFQUNMLGtCQUFrQixFQUNsQixPQUFPLEVBQ1AsR0FBRyxFQUNILFVBQVUsRUFDVixJQUFJLEVBQ0osRUFBRSxHQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFc3NlbmNlIH0gZnJvbSBcIi4vLi4vdHlwZXMvYWJleC1yZXNvdXJjZVwiO1xuaW1wb3J0IHsgRHVzdENoZXN0IH0gZnJvbSBcIi4vdHlwZXMuanNcIjtcblxuZXhwb3J0IGNvbnN0IFJlbGljQmFzZSA9IDE4O1xuZXhwb3J0IGNvbnN0IEFiRXhTZWxsTW9kaWZpZXIgPSAwLjQ7XG5cbmV4cG9ydCBjb25zdCBhZUljb25zID0ge1xuICBzdGFtOiBcImh0dHBzOi8vaS5pbWd1ci5jb20vbjVXT3pTWi5wbmdcIixcbiAgY29pbjogXCJodHRwczovL2kuaW1ndXIuY29tL0d3MjE2UFoucG5nXCIsXG4gIGVzczogXCJodHRwczovL2kuaW1ndXIuY29tL0d3MjE2UFoucG5nXCIsXG4gIGJwRW50ZXI6IFwiaHR0cHM6Ly9pLmltZ3VyLmNvbS9qNnFFQU5XLnBuZ1wiLFxuICBicEVudGVySW1nOiBcImh0dHBzOi8vaS5pbWd1ci5jb20vUXhTZlNGVS5wbmdcIixcbn07XG5cbmNvbnN0IHJlbGljRXN0aW1hdGVUYWJsZSA9IGBcbiAgPHRoZWFkPlxuICAgIDx0cj5cbiAgICAgIDx0aCBhbGlnbj1cImNlbnRlclwiIGNvbHNwYW49ND5FeHBlZGl0b3IgRGF0YTwvdGg+XG4gICAgPC90cj5cbiAgPC90aGVhZD5cbiAgPHRib2R5PlxuICAgIDx0cj5cbiAgICAgIDx0ZCBhbGlnbj1jZW50ZXI+SW5jb21lPC90ZD5cbiAgICAgIDx0ZCBhbGlnbj1jZW50ZXI+IDxpbWcgc3JjPSR7YWVJY29ucy5jb2lufSB3aWR0aD0yMD48L3RkPlxuICAgICAgPHRkIGFsaWduPWNlbnRlcj5SZWxpYyBUeXBlPC90ZD5cbiAgICAgIDx0ZCBhbGlnbj1jZW50ZXI+RHJvcCBUaW1lcnM8L3RkPlxuICAgIDwvdHI+XG4gICAgPHRyPlxuICAgICAgPHRkIGFsaWduPWNlbnRlcj48Yj5bICR0dyBzZXR0bGVtZW50cyBdPC9iPjwvdGQ+XG4gICAgICA8dGQgYWxpZ249Y2VudGVyPiRpbmM8L3RkPlxuICAgICAgPHRkIGFsaWduPWNlbnRlcj4kdGllcjwvdGQ+XG4gICAgICA8dGQgYWxpZ249Y2VudGVyPiRkcm9wPC90ZD5cbiAgICA8L3RyPlxuICAgIDx0cj5cbiAgICAgICAgICA8dGQgYWxpZ249Y2VudGVyIGNvbHNwYW49ND5HT0FMPC90ZD5cbiAgICA8L3RyPlxuICAgIDx0cj5cbiAgICAgIDx0ZCBjb2xzcGFuPTI+UmVtYWluPC90ZD5cbiAgICAgIDx0ZCBjb2xzcGFuPTE+PGltZyBzcmM9JHthZUljb25zLmNvaW59IHdpZHRoPTIwIHN0eWxlPVwibWFyZ2luLWxlZnQ6MjBweFwiPjwvdGQ+XG4gICAgICA8dGQgY29sc3Bhbj0xPlRJTUU8L3RkPlxuICAgIDwvdHI+ICAgICAgICBcbiAgICA8dHI+XG4gICAgICAgPHRkIGNvbHNwYW49Mj48L3RkPlxuICAgICAgIDx0ZCBjb2xzcGFuPTE+JGdjPC90ZD5cbiAgICAgIDx0ZCBjb2xzcGFuPTE+JHRsPC90ZD5cbiAgICA8L3RyPiAgICBcbiAgICA8dHI+XG4gICAgICA8dGQgYWxpZ249Y2VudGVyIGNvbHNwYW49ND5CQUc8L3RkPlxuICAgIDwvdHI+XG4gICAgICA8dHI+XG4gICAgICAgIDx0ZCBhbGlnbj1jZW50ZXIgY29sc3Bhbj0xPktFRVA8L3RkPlxuICAgICAgICA8dGQgYWxpZ249Y2VudGVyIGNvbHNwYW49Mz4kdGc8L3RkPlxuICAgICAgPC90cj5cblxuICAgICAgPHRyPlxuICAgICAgICA8dGQgYWxpZ249Y2VudGVyIGNvbHNwYW49MT5TRUxM4pm777iPPC90ZD5cbiAgICAgICAgPHRkIGFsaWduPXJpZ2h0IGNvbHNwYW49Mz4kdG9TZWxsPC90ZD5cbiAgICAgIDwvdHI+XG4gIDwvdGJvZHk+XG5cbmA7XG5cbi8vIDx0cj5cbi8vICAgPHRkIGFsaWduPVwiY2VudGVyXCI+S0VFUOKchSA8L3RkPlxuLy8gICA8dGQgYWxpZ249XCJsZWZ0XCI+JG5lZWQ8L3RkPlxuLy8gPC90cj47XG5cbi8vIHR5cGUgQXNjZW5zaW9uID1cbi8vICAgfCBcIkVcIlxuLy8gICB8IFwiRStcIlxuLy8gICB8IFwiTFwiXG4vLyAgIHwgXCJMK1wiXG4vLyAgIHwgXCJNXCJcbi8vICAgfCBcIk0rXCJcbi8vICAgfCBcIkFcIlxuLy8gICB8IFwiQTFcIlxuLy8gICB8IFwiQTJcIlxuLy8gICB8IFwiQTNcIlxuLy8gICB8IFwiQTRcIlxuLy8gICB8IFwiQTVcIjtcbi8vIGNvbnN0IEZsYXdsZXNzRHJvcGxldHMgPSB7XG4vLyAgICAgICBFOiAxLFxuLy8gICAgICAgXCJFK1wiOiAxLFxuLy8gICAgICAgTDogNCxcbi8vICAgICAgIFwiTCtcIjogMixcbi8vICAgICAgIE06IDgsXG4vLyAgICAgICBcIk0rXCI6IDgsXG4vLyAgICAgICBBOiA0LFxuLy8gICAgICAgQTE6IDIsXG4vLyAgICAgICBBMjogMixcbi8vICAgICAgIEEzOiAyLFxuLy8gICAgICAgQTQ6IDIsXG4vLyAgICAgICBBNTogMixcbi8vICAgICB9O1xuY2xhc3MgUGVyaW9kIHtcbiAgc3RhdGljIGhvdXIgPSAxO1xuICBzdGF0aWMgZGF5ID0gMjQgKiB0aGlzLmhvdXI7XG4gIHN0YXRpYyB3ZWVrID0gNyAqIHRoaXMuZGF5O1xuICBzdGF0aWMgbW9udGggPSAzMCAqIHRoaXMuZGF5O1xufVxuXG5jb25zdCBpY29uU2l6ZSA9IDM4O1xuXG5jbGFzcyBBZmtBcmVuYSB7XG4gIHN0YXRpYyBsZXZlbHVwID0gNDQ1MDA7XG5cbiAgc3RhdGljIGR1c3RJbmMoKSB7XG4gICAgY29uc3QgYmFzZSA9IDExNjcgLyBQZXJpb2QuZGF5LFxuICAgICAgZm9zID0gYmFzZSAqIDEuNiArIDM4NSAvIFBlcmlvZC5kYXk7XG4gICAgcmV0dXJuIGJhc2UgKyBmb3M7XG4gIH1cblxuICBzdGF0aWMgc3RvcmVEdXN0KCkge1xuICAgIHJldHVybiA1MDAgLyBQZXJpb2QuZGF5O1xuICB9XG5cbiAgc3RhdGljIGZhc3RSZXdhcmRzKCkge1xuICAgIHJldHVybiAodGhpcy5kdXN0SW5jKCkgKiAyKSAvIFBlcmlvZC5kYXk7XG4gIH1cblxuICBzdGF0aWMgc3RvcmVEaURlYWwoKSB7XG4gICAgcmV0dXJuIG5ldyBEdXN0Q2hlc3QoMywgOCkuZHVzdCgpIC8gUGVyaW9kLmRheTtcbiAgfVxuXG4gIHN0YXRpYyBzdWJzQ2hlc3QoKSB7XG4gICAgcmV0dXJuIG5ldyBEdXN0Q2hlc3QoMiwgNikuZHVzdCgpIC8gUGVyaW9kLmRheTtcbiAgfVxuXG4gIHN0YXRpYyBkYWlseVBpbGUoKSB7XG4gICAgcmV0dXJuIG5ldyBEdXN0Q2hlc3QoMSwgMikuZHVzdCgpIC8gUGVyaW9kLmRheTtcbiAgfVxuXG4gIHN0YXRpYyBtaXN0eVZhbGxleSgpIHtcbiAgICBjb25zdCBiYXNlID0gbmV3IER1c3RDaGVzdCgxMiwgOCk7XG4gICAgY29uc3QgZmlyc3RSZXdhcmQgPSBuZXcgRHVzdENoZXN0KDEyLCA4KTtcbiAgICByZXR1cm4gKGJhc2UuZHVzdCgpICsgZmlyc3RSZXdhcmQuZHVzdCgpKSAvIFBlcmlvZC5tb250aDtcbiAgfVxufVxuXG5jbGFzcyBBYkV4IHtcbiAgc3RhdGljIG5vdyA9IG5ldyBEYXRlKCk7XG4gIHN0YXRpYyBhYmV4RHVyYXRpb25EYXlzID0gMTk7XG4gIHN0YXRpYyBzaWxlbnREYXkgPSAxO1xuICBzdGF0aWMgdmlld2VyTXVsdGlwbGllciA9IDEuMjtcbiAgc3RhdGljIHN0YXJGYXN0ZXJSZWNvdmVyeU1vZCA9IDAuOTtcblxuICBzdGF0aWMgc3RhcnQoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWJleC1kYXRlXCIpLm5vZGVWYWx1ZSk7XG4gIH1cblxuICBzdGF0aWMgbGVmdCgpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoXG4gICAgICB0aGlzLnN0YXJ0KCkuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgIHRoaXMuc3RhcnQoKS5nZXRVVENNb250aCgpLFxuICAgICAgdGhpcy5zdGFydCgpLmdldFVUQ0RhdGUoKSArIHRoaXMuYWJleER1cmF0aW9uRGF5cyxcbiAgICAgIHRoaXMuc3RhcnQoKS5nZXRVVENIb3VycygpLFxuICAgICAgdGhpcy5zdGFydCgpLmdldFVUQ01pbnV0ZXMoKVxuICAgICk7XG4gIH1cblxuICBzdGF0aWMgc2lsZW50SG91cnNJbigpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoXG4gICAgICB0aGlzLmxlZnQoKS5nZXRVVENGdWxsWWVhcigpLFxuICAgICAgdGhpcy5sZWZ0KCkuZ2V0VVRDTW9udGgoKSxcbiAgICAgIHRoaXMubGVmdCgpLmdldFVUQ0RhdGUoKSAtIHRoaXMuc2lsZW50RGF5LFxuICAgICAgdGhpcy5sZWZ0KCkuZ2V0VVRDSG91cnMoKSxcbiAgICAgIHRoaXMubGVmdCgpLmdldFVUQ01pbnV0ZXMoKVxuICAgICk7XG4gIH1cblxuICBzdGF0aWMgaG91cnNMZWZ0KCkge1xuICAgIHJldHVybiAoXG4gICAgICAodGhpcy5zaWxlbnRIb3Vyc0luKCkuZ2V0VGltZSgpIC0gdGhpcy5ub3cuZ2V0VGltZSgpKSAvIDEwMDAgLyA2MCAvIDYwXG4gICAgKTtcbiAgfVxufVxuXG5jbGFzcyBCb3NzIHtcbiAgc3RhdGljIGZvb2RDb3N0ID0gNDg7XG4gIHN0YXRpYyByZXRyeSA9IDQ7XG59XG5cbmNsYXNzIFZhbHVlTW9kZXMgZXh0ZW5kcyBBZmtBcmVuYSB7XG4gIHN0YXRpYyByU291cmNlcyA9IFtcbiAgICB7XG4gICAgICBpZDogXCJjdXJzZWQtcmVhbG1cIixcbiAgICAgIGxhYmVsOiBcIkN1cnNlZCBSZWFsbVwiLFxuICAgICAgdGFibGVOYW1lOiBcIkNSXCIsXG4gICAgICBwZXJpb2Q6IDcsXG4gICAgICBkaXNwbGF5OiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwidHJlYXN1cmUtc2NyYW1ibGVcIixcbiAgICAgIGxhYmVsOiBcIlRyZWFzdXJlIFNjcmFtYmxlXCIsXG4gICAgICB0YWJsZU5hbWU6IFwiVFNcIixcbiAgICAgIHBlcmlvZDogNyxcbiAgICAgIGRpc3BsYXk6IHRydWUsXG4gICAgfSxcbiAgICB7XG4gICAgICBpZDogXCJuaWdodG1hcmUtY29ycmlkb3JcIixcbiAgICAgIGxhYmVsOiBcIk5pZ2h0bWFyZSBDb3JyaWRvclwiLFxuICAgICAgdGFibGVOYW1lOiBcIk5DXCIsXG4gICAgICBwZXJpb2Q6IDcsXG4gICAgICBkaXNwbGF5OiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwiYWZrLWluY29tZVwiLFxuICAgICAgbGFiZWw6IFwiQmFzZSBBRksgSW5jb21lXCIsXG4gICAgICB0YWJsZU5hbWU6IFwiQUZLXCIsXG4gICAgICBwZXJpb2Q6IDEgLyAyNCxcbiAgICAgIGRpc3BsYXk6IGZhbHNlLFxuICAgIH0sXG4gIF07XG5cbiAgc3RhdGljIGVtdW5zKCkge1xuICAgIHJldHVybiB0aGlzLnJTb3VyY2VzLm1hcCgoeCkgPT4ge1xuICAgICAgcmV0dXJuIHsgaWQ6IHguaWQsIHRhYmxlOiB4LnRhYmxlTmFtZSB9O1xuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIGdNb2RlKHg6IHN0cmluZykge1xuICAgIGNvbnN0IHNvdXJjZSA9IHRoaXMuclNvdXJjZXMuZmluZChcbiAgICAgICh5KSA9PiB5LmlkID09PSB4IHx8IHkubGFiZWwgPT09IHggfHwgeS50YWJsZU5hbWUgPT09IHhcbiAgICApO1xuICAgIGlmICghc291cmNlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIFNvdXJjZSBNb2RlXCIpO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhHYW1lTW9kZSkuZmluZChcbiAgICAgICh5KSA9PiAoeSBhcyBzdHJpbmcpID09PSBzb3VyY2UudGFibGVOYW1lXG4gICAgKTtcbiAgfVxufVxuXG50eXBlIGJyZXMgPVxuICB8IFwiZGlhXCJcbiAgfCBcImJhaXRcIlxuICB8IFwicmVkY1wiXG4gIHwgXCJ5ZWxsc1wiXG4gIHwgXCJlbWJsY2NcIlxuICB8IFwidGltZWVcIlxuICB8IFwic3RhcnNcIlxuICB8IFwicG9lXCJcbiAgfCBcImR1c3RcIlxuICB8IFwidHdpc2VcIlxuICB8IFwibXl0aGZzXCJcbiAgfCBcInNlY3JzXCI7XG5cbmNvbnN0IGFsbFJlcyA9IFtcbiAgXCJkaWFcIixcbiAgXCJiYWl0XCIsXG4gIFwicmVkY1wiLFxuICBcInllbGxzXCIsXG4gIFwiZW1ibGNjXCIsXG4gIFwidGltZWVcIixcbiAgXCJzdGFyc1wiLFxuICBcInBvZVwiLFxuICBcImR1c3RcIixcbiAgXCJ0d2lzZVwiLFxuICBcIm15dGhmc1wiLFxuICBcInNlY3JzXCIsXG5dO1xuXG5lbnVtIEdhbWVNb2RlIHtcbiAgQ1IgPSBcIkNSXCIsXG4gIFRTID0gXCJUU1wiLFxuICBOQyA9IFwiTkNcIixcbiAgYWxsID0gXCJhbGxcIixcbn1cblxuY29uc3QgdmVyYiA9IHRydWU7XG5jb25zdCB4aCA9IGBcbiAgICA8ZGl2PlxuICAgICAgICA8c3BhbiBpZD1cInJhbmdlVmFsdWVcIj4xIHdlZWs8L3NwYW4+XG4gICAgICAgIDxpbnB1dCBjbGFzcz1cInJhbmdlXCIgdHlwZT1cInJhbmdlXCIgbmFtZT1cInRpbWVzXCIgdmFsdWU9XCIxXCIgbWluPVwiMVwiIG1heD1cIjUyXCIgIGxpc3Q9XCJ2YWx1ZXNcIiAvPlxuPGRhdGFsaXN0IGlkPVwidmFsdWVzXCI+XG5gO1xuY29uc3QgbGVmdG92ZXIgPSBgXG48L2RhdGFsaXN0PlxuICAgIDwvZGl2PlxuYDtcblxuY29uc3QgdXNlckZpZWxkcyA9IFtcbiAgeyBuYW1lOiBcImN1cnNlZC1yZWFsbVwiLCB0eXBlOiBcInNlbGVjdFwiLCBzcmM6IFwiZ3NoZWV0XCIgfSxcbiAgeyBuYW1lOiBcInRyZWFzdXJlLXNjcmFtYmxlXCIsIHR5cGU6IFwic2VsZWN0XCIsIHNyYzogXCJnc2hlZXRcIiB9LFxuICB7IG5hbWU6IFwibmlnaHRtYXJlLWNvcnJpZG9yXCIsIHR5cGU6IFwic2VsZWN0XCIsIHNyYzogXCJnc2hlZXRcIiB9LFxuICAvLyAgICB7bmFtZTogXCJhZmtcIiwgdHlwZTogXCJib29sXCIsIHNyYzogXCJnc2hlZXRcIn1cbl07XG5cbmNvbnN0IHNoZWV0SWQgPSBcIjFfTDRMbW9ic090bVZlQmkzUndUQ2VzcHlNcTR2WkxTSlQxRS1RT3NYcG9ZXCI7XG5jb25zdCBiYXNlID0gYGh0dHBzOi8vZG9jcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy9kLyR7c2hlZXRJZH0vZ3Zpei90cT9gO1xuY29uc3QgcXVlcnkgPSBlbmNvZGVVUklDb21wb25lbnQoXCJTZWxlY3QgKlwiKTtcbmNvbnN0IHVybCA9IGZ1bmN0aW9uICh4OiBzdHJpbmcpIHtcbiAgcmV0dXJuIGAke2Jhc2V9JnNoZWV0PSR7eH0mdHE9JHtxdWVyeX1gO1xufTtcblxuZXhwb3J0IHtcbiAgQWJFeCxcbiAgQWZrQXJlbmEsXG4gIEJvc3MsXG4gIEdhbWVNb2RlLFxuICBQZXJpb2QsXG4gIFZhbHVlTW9kZXMsXG4gIGFsbFJlcyxcbiAgYmFzZSxcbiAgYnJlcyxcbiAgaWNvblNpemUsXG4gIGxlZnRvdmVyLFxuICBxdWVyeSxcbiAgcmVsaWNFc3RpbWF0ZVRhYmxlLFxuICBzaGVldElkLFxuICB1cmwsXG4gIHVzZXJGaWVsZHMsXG4gIHZlcmIsXG4gIHhoLFxufTtcbiJdfQ==