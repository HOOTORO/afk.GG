import { DustChest } from "./types.js";
export var elTag;
(function (elTag) {
    elTag["Input"] = "input";
    elTag["Div"] = "div";
    elTag["Span"] = "span";
    elTag["Label"] = "label";
    elTag["Select"] = "select";
    elTag["Option"] = "option";
    elTag["Form"] = "form";
    elTag["Img"] = "img";
    elTag["tr"] = "tr";
    elTag["td"] = "td";
    elTag["th"] = "th";
    elTag["Table"] = "table";
    elTag["Thead"] = "thead";
    elTag["Tbody"] = "tbody";
    elTag["Button"] = "button";
    elTag["Output"] = "output";
})(elTag || (elTag = {}));
export var elProp;
(function (elProp) {
    elProp["Id"] = "id";
    elProp["Class"] = "class";
    elProp["For"] = "for";
    elProp["Alt"] = "alt";
    elProp["Src"] = "src";
    elProp["Width"] = "width";
    elProp["Style"] = "style";
    elProp["Type"] = "type";
})(elProp || (elProp = {}));
export var Input;
(function (Input) {
    Input["Number"] = "number";
    Input["Text"] = "text";
    Input["CheckBox"] = "checkbox";
    Input["Datetime"] = "datetime-local";
})(Input || (Input = {}));
export const RelicBase = 18;
export const AbExSellModifier = 0.4;
export const aeIcons = {
    stam: "https://i.imgur.com/n5WOzSZ.png",
    coin: "https://i.imgur.com/Gw216PZ.png",
    ess: "https://i.imgur.com/Gw216PZ.png",
};
const relicEstimateTable = `
  <thead>
    <tr>
      <th align="center" colspan=4>Expeditor Data</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align=center>Income</td>
      <td align=center> <img src=${aeIcons.coin} width=20></td>
      <td align=center>Relic Type</td>
      <td align=center>Drop Timers</td>
    </tr>
    <tr>
      <td align=center><b>[ $tw settlements ]</b></td>
      <td align=center>$inc</td>
      <td align=center>$tier</td>
      <td align=center>$drop</td>
    </tr>
    <tr>
          <td align=center colspan=4>GOAL</td>
    </tr>
    <tr>
      <td colspan=2>Remain</td>
      <td colspan=1><img src=${aeIcons.coin} width=20 style="margin-left:20px"></td>
      <td colspan=1>TIME</td>
    </tr>        
    <tr>
       <td colspan=2></td>
       <td colspan=1>$gc</td>
      <td colspan=1>$tl</td>
    </tr>    
    <tr>
      <td align=center colspan=4>BAG</td>
    </tr>
      <tr>
        <td align=center colspan=1>KEEP</td>
        <td align=center colspan=3>$tg</td>
      </tr>

      <tr>
        <td align=center colspan=1>SELL♻️</td>
        <td align=right colspan=3>$toSell</td>
      </tr>
  </tbody>

`;
class Period {
    static hour = 1;
    static day = 24 * this.hour;
    static week = 7 * this.day;
    static month = 30 * this.day;
}
const iconSize = 38;
class AfkArena {
    static levelup = 44500;
    static dustInc() {
        const base = 1167 / Period.day, fos = base * 1.6 + 385 / Period.day;
        return base + fos;
    }
    static storeDust() {
        return 500 / Period.day;
    }
    static fastRewards() {
        return (this.dustInc() * 2) / Period.day;
    }
    static storeDiDeal() {
        return new DustChest(3, 8).dust() / Period.day;
    }
    static subsChest() {
        return new DustChest(2, 6).dust() / Period.day;
    }
    static dailyPile() {
        return new DustChest(1, 2).dust() / Period.day;
    }
    static mistyValley() {
        const base = new DustChest(12, 8);
        const firstReward = new DustChest(12, 8);
        return (base.dust() + firstReward.dust()) / Period.month;
    }
}
class AbEx {
    static now = new Date();
    static abexDurationDays = 19;
    static silentDay = 1;
    static spectatorMod = 1.2;
    static sodFastenMod = 0.9;
    static startD = new Date();
    static start() {
        return new Date();
    }
    static left() {
        return new Date(this.startD.getUTCFullYear(), this.startD.getUTCMonth(), this.startD.getUTCDate() + this.abexDurationDays, this.startD.getUTCHours(), this.startD.getUTCMinutes());
    }
    static silentHoursIn() {
        return new Date(this.startD.getUTCFullYear(), this.startD.getUTCMonth(), this.startD.getUTCDate() - this.silentDay, this.startD.getUTCHours(), this.startD.getUTCMinutes());
    }
    static hoursLeft() {
        return ((this.silentHoursIn().getTime() - this.now.getTime()) / 1000 / 60 / 60);
    }
}
class Boss {
    static foodCost = 48;
    static retry = 4;
}
class ValueModes extends AfkArena {
    static rSources = [
        {
            id: "cursed-realm",
            label: "Cursed Realm",
            tableName: "CR",
            period: 7,
            display: true,
        },
        {
            id: "treasure-scramble",
            label: "Treasure Scramble",
            tableName: "TS",
            period: 7,
            display: true,
        },
        {
            id: "nightmare-corridor",
            label: "Nightmare Corridor",
            tableName: "NC",
            period: 7,
            display: true,
        },
        {
            id: "afk-income",
            label: "Base AFK Income",
            tableName: "AFK",
            period: 1 / 24,
            display: false,
        },
    ];
    static emuns() {
        return this.rSources.map((x) => {
            return { id: x.id, table: x.tableName };
        });
    }
    static gMode(x) {
        const source = this.rSources.find((y) => y.id === x || y.label === x || y.tableName === x);
        if (!source) {
            throw new Error("Unknown Source Mode");
        }
        return Object.values(GameMode).find((y) => y === source.tableName);
    }
}
const allRes = [
    "dia",
    "bait",
    "redc",
    "yells",
    "emblcc",
    "timee",
    "stars",
    "poe",
    "dust",
    "twise",
    "mythfs",
    "secrs",
];
var GameMode;
(function (GameMode) {
    GameMode["CR"] = "CR";
    GameMode["TS"] = "TS";
    GameMode["NC"] = "NC";
    GameMode["all"] = "all";
})(GameMode || (GameMode = {}));
const verb = true;
const xh = `
    <div>
        <span id="rangeValue">1 week</span>
        <input class="range" type="range" name="times" value="1" min="1" max="52"  list="values" />
<datalist id="values">
`;
const leftover = `
</datalist>
    </div>
`;
const userFields = [
    { name: "cursed-realm", type: "select", src: "gsheet" },
    { name: "treasure-scramble", type: "select", src: "gsheet" },
    { name: "nightmare-corridor", type: "select", src: "gsheet" },
];
const sheetId = "1_L4LmobsOtmVeBi3RwTCespyMq4vZLSJT1E-QOsXpoY";
const base = `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?`;
const query = encodeURIComponent("Select *");
const url = function (x) {
    return `${base}&sheet=${x}&tq=${query}`;
};
export { AbEx, AfkArena, Boss, GameMode, Period, ValueModes, allRes, base, iconSize, leftover, query, relicEstimateTable, sheetId, url, userFields, verb, xh, };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL21vZGVsL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBQ3ZDLE1BQU0sQ0FBTixJQUFZLEtBbUJYO0FBbkJELFdBQVksS0FBSztJQUNmLHdCQUFlLENBQUE7SUFDZixvQkFBVyxDQUFBO0lBRVgsc0JBQWEsQ0FBQTtJQUNiLHdCQUFlLENBQUE7SUFDZiwwQkFBaUIsQ0FBQTtJQUVqQiwwQkFBaUIsQ0FBQTtJQUNqQixzQkFBYSxDQUFBO0lBQ2Isb0JBQVcsQ0FBQTtJQUNYLGtCQUFTLENBQUE7SUFDVCxrQkFBUyxDQUFBO0lBQ1Qsa0JBQVMsQ0FBQTtJQUNULHdCQUFlLENBQUE7SUFDZix3QkFBZSxDQUFBO0lBQ2Ysd0JBQWUsQ0FBQTtJQUNmLDBCQUFpQixDQUFBO0lBQ2pCLDBCQUFpQixDQUFBO0FBQ25CLENBQUMsRUFuQlcsS0FBSyxLQUFMLEtBQUssUUFtQmhCO0FBRUQsTUFBTSxDQUFOLElBQVksTUFTWDtBQVRELFdBQVksTUFBTTtJQUNoQixtQkFBUyxDQUFBO0lBQ1QseUJBQWUsQ0FBQTtJQUNmLHFCQUFXLENBQUE7SUFDWCxxQkFBVyxDQUFBO0lBQ1gscUJBQVcsQ0FBQTtJQUNYLHlCQUFlLENBQUE7SUFDZix5QkFBZSxDQUFBO0lBQ2YsdUJBQWEsQ0FBQTtBQUNmLENBQUMsRUFUVyxNQUFNLEtBQU4sTUFBTSxRQVNqQjtBQUNELE1BQU0sQ0FBTixJQUFZLEtBS1g7QUFMRCxXQUFZLEtBQUs7SUFDZiwwQkFBaUIsQ0FBQTtJQUNqQixzQkFBYSxDQUFBO0lBQ2IsOEJBQXFCLENBQUE7SUFDckIsb0NBQTJCLENBQUE7QUFDN0IsQ0FBQyxFQUxXLEtBQUssS0FBTCxLQUFLLFFBS2hCO0FBQ0QsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLEVBQUUsQ0FB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QztBQUM3QyxNQUFNLEdBQUcsR0FBRyxVQUFVLENBQVM7SUFDN0IsT0FBTyxHQUFHLElBQUksVUFBVSxDQUFDLE9BQU8sS0FBSyxFQUFFLENBQUM7QUFDMUMsQ0FBQyxDQUFDO0FBRUYsT0FBTyxFQUNMLElBQUksRUFDSixRQUFRLEVBQ1IsSUFBSSxFQUNKLFFBQVEsRUFDUixNQUFNLEVBQ04sVUFBVSxFQUNWLE1BQU0sRUFDTixJQUFJLEVBRUosUUFBUSxFQUNSLFFBQVEsRUFDUixLQUFLLEVBQ0wsa0JBQWtCLEVBQ2xCLE9BQU8sRUFDUCxHQUFHLEVBQ0gsVUFBVSxFQUNWLElBQUksRUFDSixFQUFFLEdBQ0gsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVzc2VuY2UgfSBmcm9tIFwiLi8uLi90eXBlcy9hYmV4LXJlc291cmNlXCI7XG5pbXBvcnQgeyBEdXN0Q2hlc3QgfSBmcm9tIFwiLi90eXBlcy5qc1wiO1xuZXhwb3J0IGVudW0gZWxUYWcge1xuICBJbnB1dCA9IFwiaW5wdXRcIixcbiAgRGl2ID0gXCJkaXZcIixcblxuICBTcGFuID0gXCJzcGFuXCIsXG4gIExhYmVsID0gXCJsYWJlbFwiLFxuICBTZWxlY3QgPSBcInNlbGVjdFwiLFxuXG4gIE9wdGlvbiA9IFwib3B0aW9uXCIsXG4gIEZvcm0gPSBcImZvcm1cIixcbiAgSW1nID0gXCJpbWdcIixcbiAgdHIgPSBcInRyXCIsXG4gIHRkID0gXCJ0ZFwiLFxuICB0aCA9IFwidGhcIixcbiAgVGFibGUgPSBcInRhYmxlXCIsXG4gIFRoZWFkID0gXCJ0aGVhZFwiLFxuICBUYm9keSA9IFwidGJvZHlcIixcbiAgQnV0dG9uID0gXCJidXR0b25cIixcbiAgT3V0cHV0ID0gXCJvdXRwdXRcIixcbn1cblxuZXhwb3J0IGVudW0gZWxQcm9wIHtcbiAgSWQgPSBcImlkXCIsXG4gIENsYXNzID0gXCJjbGFzc1wiLFxuICBGb3IgPSBcImZvclwiLFxuICBBbHQgPSBcImFsdFwiLFxuICBTcmMgPSBcInNyY1wiLFxuICBXaWR0aCA9IFwid2lkdGhcIixcbiAgU3R5bGUgPSBcInN0eWxlXCIsXG4gIFR5cGUgPSBcInR5cGVcIixcbn1cbmV4cG9ydCBlbnVtIElucHV0IHtcbiAgTnVtYmVyID0gXCJudW1iZXJcIixcbiAgVGV4dCA9IFwidGV4dFwiLFxuICBDaGVja0JveCA9IFwiY2hlY2tib3hcIixcbiAgRGF0ZXRpbWUgPSBcImRhdGV0aW1lLWxvY2FsXCIsXG59XG5leHBvcnQgY29uc3QgUmVsaWNCYXNlID0gMTg7XG5leHBvcnQgY29uc3QgQWJFeFNlbGxNb2RpZmllciA9IDAuNDtcblxuZXhwb3J0IGNvbnN0IGFlSWNvbnMgPSB7XG4gIHN0YW06IFwiaHR0cHM6Ly9pLmltZ3VyLmNvbS9uNVdPelNaLnBuZ1wiLFxuICBjb2luOiBcImh0dHBzOi8vaS5pbWd1ci5jb20vR3cyMTZQWi5wbmdcIixcbiAgZXNzOiBcImh0dHBzOi8vaS5pbWd1ci5jb20vR3cyMTZQWi5wbmdcIixcbn07XG5cbmNvbnN0IHJlbGljRXN0aW1hdGVUYWJsZSA9IGBcbiAgPHRoZWFkPlxuICAgIDx0cj5cbiAgICAgIDx0aCBhbGlnbj1cImNlbnRlclwiIGNvbHNwYW49ND5FeHBlZGl0b3IgRGF0YTwvdGg+XG4gICAgPC90cj5cbiAgPC90aGVhZD5cbiAgPHRib2R5PlxuICAgIDx0cj5cbiAgICAgIDx0ZCBhbGlnbj1jZW50ZXI+SW5jb21lPC90ZD5cbiAgICAgIDx0ZCBhbGlnbj1jZW50ZXI+IDxpbWcgc3JjPSR7YWVJY29ucy5jb2lufSB3aWR0aD0yMD48L3RkPlxuICAgICAgPHRkIGFsaWduPWNlbnRlcj5SZWxpYyBUeXBlPC90ZD5cbiAgICAgIDx0ZCBhbGlnbj1jZW50ZXI+RHJvcCBUaW1lcnM8L3RkPlxuICAgIDwvdHI+XG4gICAgPHRyPlxuICAgICAgPHRkIGFsaWduPWNlbnRlcj48Yj5bICR0dyBzZXR0bGVtZW50cyBdPC9iPjwvdGQ+XG4gICAgICA8dGQgYWxpZ249Y2VudGVyPiRpbmM8L3RkPlxuICAgICAgPHRkIGFsaWduPWNlbnRlcj4kdGllcjwvdGQ+XG4gICAgICA8dGQgYWxpZ249Y2VudGVyPiRkcm9wPC90ZD5cbiAgICA8L3RyPlxuICAgIDx0cj5cbiAgICAgICAgICA8dGQgYWxpZ249Y2VudGVyIGNvbHNwYW49ND5HT0FMPC90ZD5cbiAgICA8L3RyPlxuICAgIDx0cj5cbiAgICAgIDx0ZCBjb2xzcGFuPTI+UmVtYWluPC90ZD5cbiAgICAgIDx0ZCBjb2xzcGFuPTE+PGltZyBzcmM9JHthZUljb25zLmNvaW59IHdpZHRoPTIwIHN0eWxlPVwibWFyZ2luLWxlZnQ6MjBweFwiPjwvdGQ+XG4gICAgICA8dGQgY29sc3Bhbj0xPlRJTUU8L3RkPlxuICAgIDwvdHI+ICAgICAgICBcbiAgICA8dHI+XG4gICAgICAgPHRkIGNvbHNwYW49Mj48L3RkPlxuICAgICAgIDx0ZCBjb2xzcGFuPTE+JGdjPC90ZD5cbiAgICAgIDx0ZCBjb2xzcGFuPTE+JHRsPC90ZD5cbiAgICA8L3RyPiAgICBcbiAgICA8dHI+XG4gICAgICA8dGQgYWxpZ249Y2VudGVyIGNvbHNwYW49ND5CQUc8L3RkPlxuICAgIDwvdHI+XG4gICAgICA8dHI+XG4gICAgICAgIDx0ZCBhbGlnbj1jZW50ZXIgY29sc3Bhbj0xPktFRVA8L3RkPlxuICAgICAgICA8dGQgYWxpZ249Y2VudGVyIGNvbHNwYW49Mz4kdGc8L3RkPlxuICAgICAgPC90cj5cblxuICAgICAgPHRyPlxuICAgICAgICA8dGQgYWxpZ249Y2VudGVyIGNvbHNwYW49MT5TRUxM4pm777iPPC90ZD5cbiAgICAgICAgPHRkIGFsaWduPXJpZ2h0IGNvbHNwYW49Mz4kdG9TZWxsPC90ZD5cbiAgICAgIDwvdHI+XG4gIDwvdGJvZHk+XG5cbmA7XG5cbi8vIGNvbnN0IEZsYXdsZXNzRHJvcGxldHMgPSB7XG4vLyAgICAgICBFOiAxLFxuLy8gICAgICAgXCJFK1wiOiAxLFxuLy8gICAgICAgTDogNCxcbi8vICAgICAgIFwiTCtcIjogMixcbi8vICAgICAgIE06IDgsXG4vLyAgICAgICBcIk0rXCI6IDgsXG4vLyAgICAgICBBOiA0LFxuLy8gICAgICAgQTE6IDIsXG4vLyAgICAgICBBMjogMixcbi8vICAgICAgIEEzOiAyLFxuLy8gICAgICAgQTQ6IDIsXG4vLyAgICAgICBBNTogMixcbi8vICAgICB9O1xuY2xhc3MgUGVyaW9kIHtcbiAgc3RhdGljIGhvdXIgPSAxO1xuICBzdGF0aWMgZGF5ID0gMjQgKiB0aGlzLmhvdXI7XG4gIHN0YXRpYyB3ZWVrID0gNyAqIHRoaXMuZGF5O1xuICBzdGF0aWMgbW9udGggPSAzMCAqIHRoaXMuZGF5O1xufVxuXG5jb25zdCBpY29uU2l6ZSA9IDM4O1xuXG5jbGFzcyBBZmtBcmVuYSB7XG4gIHN0YXRpYyBsZXZlbHVwID0gNDQ1MDA7XG5cbiAgc3RhdGljIGR1c3RJbmMoKSB7XG4gICAgY29uc3QgYmFzZSA9IDExNjcgLyBQZXJpb2QuZGF5LFxuICAgICAgZm9zID0gYmFzZSAqIDEuNiArIDM4NSAvIFBlcmlvZC5kYXk7XG4gICAgcmV0dXJuIGJhc2UgKyBmb3M7XG4gIH1cblxuICBzdGF0aWMgc3RvcmVEdXN0KCkge1xuICAgIHJldHVybiA1MDAgLyBQZXJpb2QuZGF5O1xuICB9XG5cbiAgc3RhdGljIGZhc3RSZXdhcmRzKCkge1xuICAgIHJldHVybiAodGhpcy5kdXN0SW5jKCkgKiAyKSAvIFBlcmlvZC5kYXk7XG4gIH1cblxuICBzdGF0aWMgc3RvcmVEaURlYWwoKSB7XG4gICAgcmV0dXJuIG5ldyBEdXN0Q2hlc3QoMywgOCkuZHVzdCgpIC8gUGVyaW9kLmRheTtcbiAgfVxuXG4gIHN0YXRpYyBzdWJzQ2hlc3QoKSB7XG4gICAgcmV0dXJuIG5ldyBEdXN0Q2hlc3QoMiwgNikuZHVzdCgpIC8gUGVyaW9kLmRheTtcbiAgfVxuXG4gIHN0YXRpYyBkYWlseVBpbGUoKSB7XG4gICAgcmV0dXJuIG5ldyBEdXN0Q2hlc3QoMSwgMikuZHVzdCgpIC8gUGVyaW9kLmRheTtcbiAgfVxuXG4gIHN0YXRpYyBtaXN0eVZhbGxleSgpIHtcbiAgICBjb25zdCBiYXNlID0gbmV3IER1c3RDaGVzdCgxMiwgOCk7XG4gICAgY29uc3QgZmlyc3RSZXdhcmQgPSBuZXcgRHVzdENoZXN0KDEyLCA4KTtcbiAgICByZXR1cm4gKGJhc2UuZHVzdCgpICsgZmlyc3RSZXdhcmQuZHVzdCgpKSAvIFBlcmlvZC5tb250aDtcbiAgfVxufVxuXG5jbGFzcyBBYkV4IHtcbiAgc3RhdGljIG5vdyA9IG5ldyBEYXRlKCk7XG4gIHN0YXRpYyBhYmV4RHVyYXRpb25EYXlzID0gMTk7XG4gIHN0YXRpYyBzaWxlbnREYXkgPSAxO1xuICBzdGF0aWMgc3BlY3RhdG9yTW9kID0gMS4yO1xuICBzdGF0aWMgc29kRmFzdGVuTW9kID0gMC45O1xuICBzdGF0aWMgc3RhcnREID0gbmV3IERhdGUoKTtcblxuICBzdGF0aWMgc3RhcnQoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCk7XG4gIH1cblxuICBzdGF0aWMgbGVmdCgpIHtcbiAgICByZXR1cm4gbmV3IERhdGUoXG4gICAgICB0aGlzLnN0YXJ0RC5nZXRVVENGdWxsWWVhcigpLFxuICAgICAgdGhpcy5zdGFydEQuZ2V0VVRDTW9udGgoKSxcbiAgICAgIHRoaXMuc3RhcnRELmdldFVUQ0RhdGUoKSArIHRoaXMuYWJleER1cmF0aW9uRGF5cyxcbiAgICAgIHRoaXMuc3RhcnRELmdldFVUQ0hvdXJzKCksXG4gICAgICB0aGlzLnN0YXJ0RC5nZXRVVENNaW51dGVzKClcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIHNpbGVudEhvdXJzSW4oKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKFxuICAgICAgdGhpcy5zdGFydEQuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgIHRoaXMuc3RhcnRELmdldFVUQ01vbnRoKCksXG4gICAgICB0aGlzLnN0YXJ0RC5nZXRVVENEYXRlKCkgLSB0aGlzLnNpbGVudERheSxcbiAgICAgIHRoaXMuc3RhcnRELmdldFVUQ0hvdXJzKCksXG4gICAgICB0aGlzLnN0YXJ0RC5nZXRVVENNaW51dGVzKClcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIGhvdXJzTGVmdCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgKHRoaXMuc2lsZW50SG91cnNJbigpLmdldFRpbWUoKSAtIHRoaXMubm93LmdldFRpbWUoKSkgLyAxMDAwIC8gNjAgLyA2MFxuICAgICk7XG4gIH1cbn1cblxuY2xhc3MgQm9zcyB7XG4gIHN0YXRpYyBmb29kQ29zdCA9IDQ4O1xuICBzdGF0aWMgcmV0cnkgPSA0O1xufVxuXG5jbGFzcyBWYWx1ZU1vZGVzIGV4dGVuZHMgQWZrQXJlbmEge1xuICBzdGF0aWMgclNvdXJjZXMgPSBbXG4gICAge1xuICAgICAgaWQ6IFwiY3Vyc2VkLXJlYWxtXCIsXG4gICAgICBsYWJlbDogXCJDdXJzZWQgUmVhbG1cIixcbiAgICAgIHRhYmxlTmFtZTogXCJDUlwiLFxuICAgICAgcGVyaW9kOiA3LFxuICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcInRyZWFzdXJlLXNjcmFtYmxlXCIsXG4gICAgICBsYWJlbDogXCJUcmVhc3VyZSBTY3JhbWJsZVwiLFxuICAgICAgdGFibGVOYW1lOiBcIlRTXCIsXG4gICAgICBwZXJpb2Q6IDcsXG4gICAgICBkaXNwbGF5OiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwibmlnaHRtYXJlLWNvcnJpZG9yXCIsXG4gICAgICBsYWJlbDogXCJOaWdodG1hcmUgQ29ycmlkb3JcIixcbiAgICAgIHRhYmxlTmFtZTogXCJOQ1wiLFxuICAgICAgcGVyaW9kOiA3LFxuICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcImFmay1pbmNvbWVcIixcbiAgICAgIGxhYmVsOiBcIkJhc2UgQUZLIEluY29tZVwiLFxuICAgICAgdGFibGVOYW1lOiBcIkFGS1wiLFxuICAgICAgcGVyaW9kOiAxIC8gMjQsXG4gICAgICBkaXNwbGF5OiBmYWxzZSxcbiAgICB9LFxuICBdO1xuXG4gIHN0YXRpYyBlbXVucygpIHtcbiAgICByZXR1cm4gdGhpcy5yU291cmNlcy5tYXAoKHgpID0+IHtcbiAgICAgIHJldHVybiB7IGlkOiB4LmlkLCB0YWJsZTogeC50YWJsZU5hbWUgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBnTW9kZSh4OiBzdHJpbmcpIHtcbiAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnJTb3VyY2VzLmZpbmQoXG4gICAgICAoeSkgPT4geS5pZCA9PT0geCB8fCB5LmxhYmVsID09PSB4IHx8IHkudGFibGVOYW1lID09PSB4XG4gICAgKTtcbiAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBTb3VyY2UgTW9kZVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoR2FtZU1vZGUpLmZpbmQoXG4gICAgICAoeSkgPT4gKHkgYXMgc3RyaW5nKSA9PT0gc291cmNlLnRhYmxlTmFtZVxuICAgICk7XG4gIH1cbn1cblxudHlwZSBicmVzID1cbiAgfCBcImRpYVwiXG4gIHwgXCJiYWl0XCJcbiAgfCBcInJlZGNcIlxuICB8IFwieWVsbHNcIlxuICB8IFwiZW1ibGNjXCJcbiAgfCBcInRpbWVlXCJcbiAgfCBcInN0YXJzXCJcbiAgfCBcInBvZVwiXG4gIHwgXCJkdXN0XCJcbiAgfCBcInR3aXNlXCJcbiAgfCBcIm15dGhmc1wiXG4gIHwgXCJzZWNyc1wiO1xuXG5jb25zdCBhbGxSZXMgPSBbXG4gIFwiZGlhXCIsXG4gIFwiYmFpdFwiLFxuICBcInJlZGNcIixcbiAgXCJ5ZWxsc1wiLFxuICBcImVtYmxjY1wiLFxuICBcInRpbWVlXCIsXG4gIFwic3RhcnNcIixcbiAgXCJwb2VcIixcbiAgXCJkdXN0XCIsXG4gIFwidHdpc2VcIixcbiAgXCJteXRoZnNcIixcbiAgXCJzZWNyc1wiLFxuXTtcblxuZW51bSBHYW1lTW9kZSB7XG4gIENSID0gXCJDUlwiLFxuICBUUyA9IFwiVFNcIixcbiAgTkMgPSBcIk5DXCIsXG4gIGFsbCA9IFwiYWxsXCIsXG59XG5cbmNvbnN0IHZlcmIgPSB0cnVlO1xuY29uc3QgeGggPSBgXG4gICAgPGRpdj5cbiAgICAgICAgPHNwYW4gaWQ9XCJyYW5nZVZhbHVlXCI+MSB3ZWVrPC9zcGFuPlxuICAgICAgICA8aW5wdXQgY2xhc3M9XCJyYW5nZVwiIHR5cGU9XCJyYW5nZVwiIG5hbWU9XCJ0aW1lc1wiIHZhbHVlPVwiMVwiIG1pbj1cIjFcIiBtYXg9XCI1MlwiICBsaXN0PVwidmFsdWVzXCIgLz5cbjxkYXRhbGlzdCBpZD1cInZhbHVlc1wiPlxuYDtcbmNvbnN0IGxlZnRvdmVyID0gYFxuPC9kYXRhbGlzdD5cbiAgICA8L2Rpdj5cbmA7XG5cbmNvbnN0IHVzZXJGaWVsZHMgPSBbXG4gIHsgbmFtZTogXCJjdXJzZWQtcmVhbG1cIiwgdHlwZTogXCJzZWxlY3RcIiwgc3JjOiBcImdzaGVldFwiIH0sXG4gIHsgbmFtZTogXCJ0cmVhc3VyZS1zY3JhbWJsZVwiLCB0eXBlOiBcInNlbGVjdFwiLCBzcmM6IFwiZ3NoZWV0XCIgfSxcbiAgeyBuYW1lOiBcIm5pZ2h0bWFyZS1jb3JyaWRvclwiLCB0eXBlOiBcInNlbGVjdFwiLCBzcmM6IFwiZ3NoZWV0XCIgfSxcbiAgLy8gICAge25hbWU6IFwiYWZrXCIsIHR5cGU6IFwiYm9vbFwiLCBzcmM6IFwiZ3NoZWV0XCJ9XG5dO1xuXG5jb25zdCBzaGVldElkID0gXCIxX0w0TG1vYnNPdG1WZUJpM1J3VENlc3B5TXE0dlpMU0pUMUUtUU9zWHBvWVwiO1xuY29uc3QgYmFzZSA9IGBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvZC8ke3NoZWV0SWR9L2d2aXovdHE/YDtcbmNvbnN0IHF1ZXJ5ID0gZW5jb2RlVVJJQ29tcG9uZW50KFwiU2VsZWN0ICpcIik7XG5jb25zdCB1cmwgPSBmdW5jdGlvbiAoeDogc3RyaW5nKSB7XG4gIHJldHVybiBgJHtiYXNlfSZzaGVldD0ke3h9JnRxPSR7cXVlcnl9YDtcbn07XG5cbmV4cG9ydCB7XG4gIEFiRXgsXG4gIEFma0FyZW5hLFxuICBCb3NzLFxuICBHYW1lTW9kZSxcbiAgUGVyaW9kLFxuICBWYWx1ZU1vZGVzLFxuICBhbGxSZXMsXG4gIGJhc2UsXG4gIGJyZXMsXG4gIGljb25TaXplLFxuICBsZWZ0b3ZlcixcbiAgcXVlcnksXG4gIHJlbGljRXN0aW1hdGVUYWJsZSxcbiAgc2hlZXRJZCxcbiAgdXJsLFxuICB1c2VyRmllbGRzLFxuICB2ZXJiLFxuICB4aCxcbn07XG4iXX0=