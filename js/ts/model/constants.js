import { DustChest } from "./types.js";
export const RelicBase = 18;
export const AbExSellModifier = 0.4;
export const aeIcons = {
    stam: "https://i.imgur.com/n5WOzSZ.png",
    coin: "https://i.imgur.com/Gw216PZ.png",
    ess: "https://i.imgur.com/Gw216PZ.png",
    bpEnter: "https://i.imgur.com/j6qEANW.png",
    bpEnterImg: "https://i.imgur.com/QxSfSFU.png",
};
const relicEstimateTable = `
  <thead>
    <tr>
      <th align="center" colspan=4>Expeditor Data</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align=center>Income</td>
      <td align=center> <img src=${aeIcons.coin} width=20></td>
      <td align=center>Relic Type</td>
      <td align=center>Drop Timers</td>
    </tr>
    <tr>
      <td align=center><b>[ $tw settlements ]</b></td>
      <td align=center>$inc/h</td>
      <td align=center>$tier</td>
      <td align=center>$drop</td>
    </tr>
    <tr>
          <td align=center colspan=4>GOAL</td>
    </tr>
    <tr>
      <td colspan=2>Remain</td>
      <td colspan=1><img src=${aeIcons.coin} width=20 style="margin-left:20px"></td>
      <td colspan=1>TIME</td>
    </tr>        
    <tr>
       <td colspan=2></td>
       <td colspan=1>$gc</td>
      <td colspan=1>$tl h</td>
    </tr>    
    <tr>
      <td align=center colspan=4>BAG</td>
    </tr>
      <tr>
        <td align=center colspan=1>KEEP</td>
        <td align=center colspan=3>$tg</td>
      </tr>

      <tr>
        <td align=center colspan=1>SELL♻️</td>
        <td align=right colspan=3>$toSell</td>
      </tr>
  </tbody>

`;
class Period {
    static hour = 1;
    static day = 24 * this.hour;
    static week = 7 * this.day;
    static month = 30 * this.day;
}
const iconSize = 38;
class AfkArena {
    static levelup = 44500;
    static dustInc() {
        const base = 1167 / Period.day, fos = base * 1.6 + 385 / Period.day;
        return base + fos;
    }
    static storeDust() {
        return 500 / Period.day;
    }
    static fastRewards() {
        return (this.dustInc() * 2) / Period.day;
    }
    static storeDiDeal() {
        return new DustChest(3, 8).dust() / Period.day;
    }
    static subsChest() {
        return new DustChest(2, 6).dust() / Period.day;
    }
    static dailyPile() {
        return new DustChest(1, 2).dust() / Period.day;
    }
    static mistyValley() {
        const base = new DustChest(12, 8);
        const firstReward = new DustChest(12, 8);
        return (base.dust() + firstReward.dust()) / Period.month;
    }
}
class AbEx {
    static now = new Date();
    static abexDurationDays = 19;
    static silentDay = 1;
    static viewerMultiplier = 1.2;
    static starFasterRecoveryMod = 0.9;
    static start() {
        return new Date(document.getElementById("abex-date").nodeValue);
    }
    static left() {
        return new Date(this.start().getUTCFullYear(), this.start().getUTCMonth(), this.start().getUTCDate() + this.abexDurationDays, this.start().getUTCHours(), this.start().getUTCMinutes());
    }
    static silentHoursIn() {
        return new Date(this.left().getUTCFullYear(), this.left().getUTCMonth(), this.left().getUTCDate() - this.silentDay, this.left().getUTCHours(), this.left().getUTCMinutes());
    }
    static hoursLeft() {
        return ((this.silentHoursIn().getTime() - this.now.getTime()) / 1000 / 60 / 60);
    }
}
class Boss {
    static foodCost = 48;
    static retry = 4;
}
class ValueModes extends AfkArena {
    static rSources = [
        {
            id: "cursed-realm",
            label: "Cursed Realm",
            tableName: "CR",
            period: 7,
            display: true,
        },
        {
            id: "treasure-scramble",
            label: "Treasure Scramble",
            tableName: "TS",
            period: 7,
            display: true,
        },
        {
            id: "nightmare-corridor",
            label: "Nightmare Corridor",
            tableName: "NC",
            period: 7,
            display: true,
        },
        {
            id: "afk-income",
            label: "Base AFK Income",
            tableName: "AFK",
            period: 1 / 24,
            display: false,
        },
    ];
    static emuns() {
        return this.rSources.map((x) => {
            return { id: x.id, table: x.tableName };
        });
    }
    static gMode(x) {
        const source = this.rSources.find((y) => y.id === x || y.label === x || y.tableName === x);
        if (!source) {
            throw new Error("Unknown Source Mode");
        }
        return Object.values(GameMode).find((y) => y === source.tableName);
    }
}
const allRes = [
    "dia",
    "bait",
    "redc",
    "yells",
    "emblcc",
    "timee",
    "stars",
    "poe",
    "dust",
    "twise",
    "mythfs",
    "secrs",
];
var GameMode;
(function (GameMode) {
    GameMode["CR"] = "CR";
    GameMode["TS"] = "TS";
    GameMode["NC"] = "NC";
    GameMode["all"] = "all";
})(GameMode || (GameMode = {}));
const verb = true;
const xh = `
    <div>
        <span id="rangeValue">1 week</span>
        <input class="range" type="range" name="times" value="1" min="1" max="52"  list="values" />
<datalist id="values">
`;
const leftover = `
</datalist>
    </div>
`;
const userFields = [
    { name: "cursed-realm", type: "select", src: "gsheet" },
    { name: "treasure-scramble", type: "select", src: "gsheet" },
    { name: "nightmare-corridor", type: "select", src: "gsheet" },
];
const sheetId = "1_L4LmobsOtmVeBi3RwTCespyMq4vZLSJT1E-QOsXpoY";
const base = `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?`;
const query = encodeURIComponent("Select *");
const url = function (x) {
    return `${base}&sheet=${x}&tq=${query}`;
};
export { AbEx, AfkArena, Boss, GameMode, Period, ValueModes, allRes, base, iconSize, leftover, query, relicEstimateTable, sheetId, url, userFields, verb, xh, };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uc3RhbnRzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vc3JjL21vZGVsL2NvbnN0YW50cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBRXZDLE1BQU0sQ0FBQyxNQUFNLFNBQVMsR0FBRyxFQUFFLENBQUM7QUFDNUIsTUFBTSxDQUFDLE1BQU0sZ0JBQWdCLEdBQUcsR0FBRyxDQUFDO0FBRXBDLE1BQU0sQ0FBQyxNQUFNLE9BQU8sR0FBRztJQUNyQixJQUFJLEVBQUUsaUNBQWlDO0lBQ3ZDLElBQUksRUFBRSxpQ0FBaUM7SUFDdkMsR0FBRyxFQUFFLGlDQUFpQztJQUN0QyxPQUFPLEVBQUUsaUNBQWlDO0lBQzFDLFVBQVUsRUFBRSxpQ0FBaUM7Q0FDOUMsQ0FBQztBQUVGLE1BQU0sa0JBQWtCLEdBQUc7Ozs7Ozs7OzttQ0FTUSxPQUFPLENBQUMsSUFBSTs7Ozs7Ozs7Ozs7Ozs7OytCQWVoQixPQUFPLENBQUMsSUFBSTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztDQXNCMUMsQ0FBQztBQWtDRixNQUFNLE1BQU07SUFDVixNQUFNLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQztJQUNoQixNQUFNLENBQUMsR0FBRyxHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO0lBQzVCLE1BQU0sQ0FBQyxJQUFJLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7SUFDM0IsTUFBTSxDQUFDLEtBQUssR0FBRyxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQzs7QUFHL0IsTUFBTSxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBRXBCLE1BQU0sUUFBUTtJQUNaLE1BQU0sQ0FBQyxPQUFPLEdBQUcsS0FBSyxDQUFDO0lBRXZCLE1BQU0sQ0FBQyxPQUFPO1FBQ1osTUFBTSxJQUFJLEdBQUcsSUFBSSxHQUFHLE1BQU0sQ0FBQyxHQUFHLEVBQzVC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LEVBQUUsR0FBRyxFQUFFLFFBQVEsRUFBRTtJQUN2RCxFQUFFLElBQUksRUFBRSxtQkFBbUIsRUFBRSxJQUFJLEVBQUUsUUFBUSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUU7SUFDNUQsRUFBRSxJQUFJLEVBQUUsb0JBQW9CLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFO0NBRTlELENBQUM7QUFFRixNQUFNLE9BQU8sR0FBRyw4Q0FBOEMsQ0FBQztBQUMvRCxNQUFNLElBQUksR0FBRywwQ0FBMEMsT0FBTyxXQUFXLENBQUM7QUFDMUUsTUFBTSxLQUFLLEdBQUcsa0JBQWtCLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDN0MsTUFBTSxHQUFHLEdBQUcsVUFBVSxDQUFTO0lBQzdCLE9BQU8sR0FBRyxJQUFJLFVBQVUsQ0FBQyxPQUFPLEtBQUssRUFBRSxDQUFDO0FBQzFDLENBQUMsQ0FBQztBQUVGLE9BQU8sRUFDTCxJQUFJLEVBQ0osUUFBUSxFQUNSLElBQUksRUFDSixRQUFRLEVBQ1IsTUFBTSxFQUNOLFVBQVUsRUFDVixNQUFNLEVBQ04sSUFBSSxFQUVKLFFBQVEsRUFDUixRQUFRLEVBQ1IsS0FBSyxFQUNMLGtCQUFrQixFQUNsQixPQUFPLEVBQ1AsR0FBRyxFQUNILFVBQVUsRUFDVixJQUFJLEVBQ0osRUFBRSxHQUNILENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFc3NlbmNlIH0gZnJvbSBcIi4vLi4vdHlwZXMvYWJleC1yZXNvdXJjZVwiO1xuaW1wb3J0IHsgRHVzdENoZXN0IH0gZnJvbSBcIi4vdHlwZXMuanNcIjtcblxuZXhwb3J0IGNvbnN0IFJlbGljQmFzZSA9IDE4O1xuZXhwb3J0IGNvbnN0IEFiRXhTZWxsTW9kaWZpZXIgPSAwLjQ7XG5cbmV4cG9ydCBjb25zdCBhZUljb25zID0ge1xuICBzdGFtOiBcImh0dHBzOi8vaS5pbWd1ci5jb20vbjVXT3pTWi5wbmdcIixcbiAgY29pbjogXCJodHRwczovL2kuaW1ndXIuY29tL0d3MjE2UFoucG5nXCIsXG4gIGVzczogXCJodHRwczovL2kuaW1ndXIuY29tL0d3MjE2UFoucG5nXCIsXG4gIGJwRW50ZXI6IFwiaHR0cHM6Ly9pLmltZ3VyLmNvbS9qNnFFQU5XLnBuZ1wiLFxuICBicEVudGVySW1nOiBcImh0dHBzOi8vaS5pbWd1ci5jb20vUXhTZlNGVS5wbmdcIixcbn07XG5cbmNvbnN0IHJlbGljRXN0aW1hdGVUYWJsZSA9IGBcbiAgPHRoZWFkPlxuICAgIDx0cj5cbiAgICAgIDx0aCBhbGlnbj1cImNlbnRlclwiIGNvbHNwYW49ND5FeHBlZGl0b3IgRGF0YTwvdGg+XG4gICAgPC90cj5cbiAgPC90aGVhZD5cbiAgPHRib2R5PlxuICAgIDx0cj5cbiAgICAgIDx0ZCBhbGlnbj1jZW50ZXI+SW5jb21lPC90ZD5cbiAgICAgIDx0ZCBhbGlnbj1jZW50ZXI+IDxpbWcgc3JjPSR7YWVJY29ucy5jb2lufSB3aWR0aD0yMD48L3RkPlxuICAgICAgPHRkIGFsaWduPWNlbnRlcj5SZWxpYyBUeXBlPC90ZD5cbiAgICAgIDx0ZCBhbGlnbj1jZW50ZXI+RHJvcCBUaW1lcnM8L3RkPlxuICAgIDwvdHI+XG4gICAgPHRyPlxuICAgICAgPHRkIGFsaWduPWNlbnRlcj48Yj5bICR0dyBzZXR0bGVtZW50cyBdPC9iPjwvdGQ+XG4gICAgICA8dGQgYWxpZ249Y2VudGVyPiRpbmMvaDwvdGQ+XG4gICAgICA8dGQgYWxpZ249Y2VudGVyPiR0aWVyPC90ZD5cbiAgICAgIDx0ZCBhbGlnbj1jZW50ZXI+JGRyb3A8L3RkPlxuICAgIDwvdHI+XG4gICAgPHRyPlxuICAgICAgICAgIDx0ZCBhbGlnbj1jZW50ZXIgY29sc3Bhbj00PkdPQUw8L3RkPlxuICAgIDwvdHI+XG4gICAgPHRyPlxuICAgICAgPHRkIGNvbHNwYW49Mj5SZW1haW48L3RkPlxuICAgICAgPHRkIGNvbHNwYW49MT48aW1nIHNyYz0ke2FlSWNvbnMuY29pbn0gd2lkdGg9MjAgc3R5bGU9XCJtYXJnaW4tbGVmdDoyMHB4XCI+PC90ZD5cbiAgICAgIDx0ZCBjb2xzcGFuPTE+VElNRTwvdGQ+XG4gICAgPC90cj4gICAgICAgIFxuICAgIDx0cj5cbiAgICAgICA8dGQgY29sc3Bhbj0yPjwvdGQ+XG4gICAgICAgPHRkIGNvbHNwYW49MT4kZ2M8L3RkPlxuICAgICAgPHRkIGNvbHNwYW49MT4kdGwgaDwvdGQ+XG4gICAgPC90cj4gICAgXG4gICAgPHRyPlxuICAgICAgPHRkIGFsaWduPWNlbnRlciBjb2xzcGFuPTQ+QkFHPC90ZD5cbiAgICA8L3RyPlxuICAgICAgPHRyPlxuICAgICAgICA8dGQgYWxpZ249Y2VudGVyIGNvbHNwYW49MT5LRUVQPC90ZD5cbiAgICAgICAgPHRkIGFsaWduPWNlbnRlciBjb2xzcGFuPTM+JHRnPC90ZD5cbiAgICAgIDwvdHI+XG5cbiAgICAgIDx0cj5cbiAgICAgICAgPHRkIGFsaWduPWNlbnRlciBjb2xzcGFuPTE+U0VMTOKZu++4jzwvdGQ+XG4gICAgICAgIDx0ZCBhbGlnbj1yaWdodCBjb2xzcGFuPTM+JHRvU2VsbDwvdGQ+XG4gICAgICA8L3RyPlxuICA8L3Rib2R5PlxuXG5gO1xuXG4vLyA8dHI+XG4vLyAgIDx0ZCBhbGlnbj1cImNlbnRlclwiPktFRVDinIUgPC90ZD5cbi8vICAgPHRkIGFsaWduPVwibGVmdFwiPiRuZWVkPC90ZD5cbi8vIDwvdHI+O1xuXG4vLyB0eXBlIEFzY2Vuc2lvbiA9XG4vLyAgIHwgXCJFXCJcbi8vICAgfCBcIkUrXCJcbi8vICAgfCBcIkxcIlxuLy8gICB8IFwiTCtcIlxuLy8gICB8IFwiTVwiXG4vLyAgIHwgXCJNK1wiXG4vLyAgIHwgXCJBXCJcbi8vICAgfCBcIkExXCJcbi8vICAgfCBcIkEyXCJcbi8vICAgfCBcIkEzXCJcbi8vICAgfCBcIkE0XCJcbi8vICAgfCBcIkE1XCI7XG4vLyBjb25zdCBGbGF3bGVzc0Ryb3BsZXRzID0ge1xuLy8gICAgICAgRTogMSxcbi8vICAgICAgIFwiRStcIjogMSxcbi8vICAgICAgIEw6IDQsXG4vLyAgICAgICBcIkwrXCI6IDIsXG4vLyAgICAgICBNOiA4LFxuLy8gICAgICAgXCJNK1wiOiA4LFxuLy8gICAgICAgQTogNCxcbi8vICAgICAgIEExOiAyLFxuLy8gICAgICAgQTI6IDIsXG4vLyAgICAgICBBMzogMixcbi8vICAgICAgIEE0OiAyLFxuLy8gICAgICAgQTU6IDIsXG4vLyAgICAgfTtcbmNsYXNzIFBlcmlvZCB7XG4gIHN0YXRpYyBob3VyID0gMTtcbiAgc3RhdGljIGRheSA9IDI0ICogdGhpcy5ob3VyO1xuICBzdGF0aWMgd2VlayA9IDcgKiB0aGlzLmRheTtcbiAgc3RhdGljIG1vbnRoID0gMzAgKiB0aGlzLmRheTtcbn1cblxuY29uc3QgaWNvblNpemUgPSAzODtcblxuY2xhc3MgQWZrQXJlbmEge1xuICBzdGF0aWMgbGV2ZWx1cCA9IDQ0NTAwO1xuXG4gIHN0YXRpYyBkdXN0SW5jKCkge1xuICAgIGNvbnN0IGJhc2UgPSAxMTY3IC8gUGVyaW9kLmRheSxcbiAgICAgIGZvcyA9IGJhc2UgKiAxLjYgKyAzODUgLyBQZXJpb2QuZGF5O1xuICAgIHJldHVybiBiYXNlICsgZm9zO1xuICB9XG5cbiAgc3RhdGljIHN0b3JlRHVzdCgpIHtcbiAgICByZXR1cm4gNTAwIC8gUGVyaW9kLmRheTtcbiAgfVxuXG4gIHN0YXRpYyBmYXN0UmV3YXJkcygpIHtcbiAgICByZXR1cm4gKHRoaXMuZHVzdEluYygpICogMikgLyBQZXJpb2QuZGF5O1xuICB9XG5cbiAgc3RhdGljIHN0b3JlRGlEZWFsKCkge1xuICAgIHJldHVybiBuZXcgRHVzdENoZXN0KDMsIDgpLmR1c3QoKSAvIFBlcmlvZC5kYXk7XG4gIH1cblxuICBzdGF0aWMgc3Vic0NoZXN0KCkge1xuICAgIHJldHVybiBuZXcgRHVzdENoZXN0KDIsIDYpLmR1c3QoKSAvIFBlcmlvZC5kYXk7XG4gIH1cblxuICBzdGF0aWMgZGFpbHlQaWxlKCkge1xuICAgIHJldHVybiBuZXcgRHVzdENoZXN0KDEsIDIpLmR1c3QoKSAvIFBlcmlvZC5kYXk7XG4gIH1cblxuICBzdGF0aWMgbWlzdHlWYWxsZXkoKSB7XG4gICAgY29uc3QgYmFzZSA9IG5ldyBEdXN0Q2hlc3QoMTIsIDgpO1xuICAgIGNvbnN0IGZpcnN0UmV3YXJkID0gbmV3IER1c3RDaGVzdCgxMiwgOCk7XG4gICAgcmV0dXJuIChiYXNlLmR1c3QoKSArIGZpcnN0UmV3YXJkLmR1c3QoKSkgLyBQZXJpb2QubW9udGg7XG4gIH1cbn1cblxuY2xhc3MgQWJFeCB7XG4gIHN0YXRpYyBub3cgPSBuZXcgRGF0ZSgpO1xuICBzdGF0aWMgYWJleER1cmF0aW9uRGF5cyA9IDE5O1xuICBzdGF0aWMgc2lsZW50RGF5ID0gMTtcbiAgc3RhdGljIHZpZXdlck11bHRpcGxpZXIgPSAxLjI7XG4gIHN0YXRpYyBzdGFyRmFzdGVyUmVjb3ZlcnlNb2QgPSAwLjk7XG5cbiAgc3RhdGljIHN0YXJ0KCkge1xuICAgIHJldHVybiBuZXcgRGF0ZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFiZXgtZGF0ZVwiKS5ub2RlVmFsdWUpO1xuICB9XG5cbiAgc3RhdGljIGxlZnQoKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKFxuICAgICAgdGhpcy5zdGFydCgpLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICB0aGlzLnN0YXJ0KCkuZ2V0VVRDTW9udGgoKSxcbiAgICAgIHRoaXMuc3RhcnQoKS5nZXRVVENEYXRlKCkgKyB0aGlzLmFiZXhEdXJhdGlvbkRheXMsXG4gICAgICB0aGlzLnN0YXJ0KCkuZ2V0VVRDSG91cnMoKSxcbiAgICAgIHRoaXMuc3RhcnQoKS5nZXRVVENNaW51dGVzKClcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIHNpbGVudEhvdXJzSW4oKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKFxuICAgICAgdGhpcy5sZWZ0KCkuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgIHRoaXMubGVmdCgpLmdldFVUQ01vbnRoKCksXG4gICAgICB0aGlzLmxlZnQoKS5nZXRVVENEYXRlKCkgLSB0aGlzLnNpbGVudERheSxcbiAgICAgIHRoaXMubGVmdCgpLmdldFVUQ0hvdXJzKCksXG4gICAgICB0aGlzLmxlZnQoKS5nZXRVVENNaW51dGVzKClcbiAgICApO1xuICB9XG5cbiAgc3RhdGljIGhvdXJzTGVmdCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgKHRoaXMuc2lsZW50SG91cnNJbigpLmdldFRpbWUoKSAtIHRoaXMubm93LmdldFRpbWUoKSkgLyAxMDAwIC8gNjAgLyA2MFxuICAgICk7XG4gIH1cbn1cblxuY2xhc3MgQm9zcyB7XG4gIHN0YXRpYyBmb29kQ29zdCA9IDQ4O1xuICBzdGF0aWMgcmV0cnkgPSA0O1xufVxuXG5jbGFzcyBWYWx1ZU1vZGVzIGV4dGVuZHMgQWZrQXJlbmEge1xuICBzdGF0aWMgclNvdXJjZXMgPSBbXG4gICAge1xuICAgICAgaWQ6IFwiY3Vyc2VkLXJlYWxtXCIsXG4gICAgICBsYWJlbDogXCJDdXJzZWQgUmVhbG1cIixcbiAgICAgIHRhYmxlTmFtZTogXCJDUlwiLFxuICAgICAgcGVyaW9kOiA3LFxuICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcInRyZWFzdXJlLXNjcmFtYmxlXCIsXG4gICAgICBsYWJlbDogXCJUcmVhc3VyZSBTY3JhbWJsZVwiLFxuICAgICAgdGFibGVOYW1lOiBcIlRTXCIsXG4gICAgICBwZXJpb2Q6IDcsXG4gICAgICBkaXNwbGF5OiB0cnVlLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IFwibmlnaHRtYXJlLWNvcnJpZG9yXCIsXG4gICAgICBsYWJlbDogXCJOaWdodG1hcmUgQ29ycmlkb3JcIixcbiAgICAgIHRhYmxlTmFtZTogXCJOQ1wiLFxuICAgICAgcGVyaW9kOiA3LFxuICAgICAgZGlzcGxheTogdHJ1ZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIGlkOiBcImFmay1pbmNvbWVcIixcbiAgICAgIGxhYmVsOiBcIkJhc2UgQUZLIEluY29tZVwiLFxuICAgICAgdGFibGVOYW1lOiBcIkFGS1wiLFxuICAgICAgcGVyaW9kOiAxIC8gMjQsXG4gICAgICBkaXNwbGF5OiBmYWxzZSxcbiAgICB9LFxuICBdO1xuXG4gIHN0YXRpYyBlbXVucygpIHtcbiAgICByZXR1cm4gdGhpcy5yU291cmNlcy5tYXAoKHgpID0+IHtcbiAgICAgIHJldHVybiB7IGlkOiB4LmlkLCB0YWJsZTogeC50YWJsZU5hbWUgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHN0YXRpYyBnTW9kZSh4OiBzdHJpbmcpIHtcbiAgICBjb25zdCBzb3VyY2UgPSB0aGlzLnJTb3VyY2VzLmZpbmQoXG4gICAgICAoeSkgPT4geS5pZCA9PT0geCB8fCB5LmxhYmVsID09PSB4IHx8IHkudGFibGVOYW1lID09PSB4XG4gICAgKTtcbiAgICBpZiAoIXNvdXJjZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBTb3VyY2UgTW9kZVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoR2FtZU1vZGUpLmZpbmQoXG4gICAgICAoeSkgPT4gKHkgYXMgc3RyaW5nKSA9PT0gc291cmNlLnRhYmxlTmFtZVxuICAgICk7XG4gIH1cbn1cblxudHlwZSBicmVzID1cbiAgfCBcImRpYVwiXG4gIHwgXCJiYWl0XCJcbiAgfCBcInJlZGNcIlxuICB8IFwieWVsbHNcIlxuICB8IFwiZW1ibGNjXCJcbiAgfCBcInRpbWVlXCJcbiAgfCBcInN0YXJzXCJcbiAgfCBcInBvZVwiXG4gIHwgXCJkdXN0XCJcbiAgfCBcInR3aXNlXCJcbiAgfCBcIm15dGhmc1wiXG4gIHwgXCJzZWNyc1wiO1xuXG5jb25zdCBhbGxSZXMgPSBbXG4gIFwiZGlhXCIsXG4gIFwiYmFpdFwiLFxuICBcInJlZGNcIixcbiAgXCJ5ZWxsc1wiLFxuICBcImVtYmxjY1wiLFxuICBcInRpbWVlXCIsXG4gIFwic3RhcnNcIixcbiAgXCJwb2VcIixcbiAgXCJkdXN0XCIsXG4gIFwidHdpc2VcIixcbiAgXCJteXRoZnNcIixcbiAgXCJzZWNyc1wiLFxuXTtcblxuZW51bSBHYW1lTW9kZSB7XG4gIENSID0gXCJDUlwiLFxuICBUUyA9IFwiVFNcIixcbiAgTkMgPSBcIk5DXCIsXG4gIGFsbCA9IFwiYWxsXCIsXG59XG5cbmNvbnN0IHZlcmIgPSB0cnVlO1xuY29uc3QgeGggPSBgXG4gICAgPGRpdj5cbiAgICAgICAgPHNwYW4gaWQ9XCJyYW5nZVZhbHVlXCI+MSB3ZWVrPC9zcGFuPlxuICAgICAgICA8aW5wdXQgY2xhc3M9XCJyYW5nZVwiIHR5cGU9XCJyYW5nZVwiIG5hbWU9XCJ0aW1lc1wiIHZhbHVlPVwiMVwiIG1pbj1cIjFcIiBtYXg9XCI1MlwiICBsaXN0PVwidmFsdWVzXCIgLz5cbjxkYXRhbGlzdCBpZD1cInZhbHVlc1wiPlxuYDtcbmNvbnN0IGxlZnRvdmVyID0gYFxuPC9kYXRhbGlzdD5cbiAgICA8L2Rpdj5cbmA7XG5cbmNvbnN0IHVzZXJGaWVsZHMgPSBbXG4gIHsgbmFtZTogXCJjdXJzZWQtcmVhbG1cIiwgdHlwZTogXCJzZWxlY3RcIiwgc3JjOiBcImdzaGVldFwiIH0sXG4gIHsgbmFtZTogXCJ0cmVhc3VyZS1zY3JhbWJsZVwiLCB0eXBlOiBcInNlbGVjdFwiLCBzcmM6IFwiZ3NoZWV0XCIgfSxcbiAgeyBuYW1lOiBcIm5pZ2h0bWFyZS1jb3JyaWRvclwiLCB0eXBlOiBcInNlbGVjdFwiLCBzcmM6IFwiZ3NoZWV0XCIgfSxcbiAgLy8gICAge25hbWU6IFwiYWZrXCIsIHR5cGU6IFwiYm9vbFwiLCBzcmM6IFwiZ3NoZWV0XCJ9XG5dO1xuXG5jb25zdCBzaGVldElkID0gXCIxX0w0TG1vYnNPdG1WZUJpM1J3VENlc3B5TXE0dlpMU0pUMUUtUU9zWHBvWVwiO1xuY29uc3QgYmFzZSA9IGBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvZC8ke3NoZWV0SWR9L2d2aXovdHE/YDtcbmNvbnN0IHF1ZXJ5ID0gZW5jb2RlVVJJQ29tcG9uZW50KFwiU2VsZWN0ICpcIik7XG5jb25zdCB1cmwgPSBmdW5jdGlvbiAoeDogc3RyaW5nKSB7XG4gIHJldHVybiBgJHtiYXNlfSZzaGVldD0ke3h9JnRxPSR7cXVlcnl9YDtcbn07XG5cbmV4cG9ydCB7XG4gIEFiRXgsXG4gIEFma0FyZW5hLFxuICBCb3NzLFxuICBHYW1lTW9kZSxcbiAgUGVyaW9kLFxuICBWYWx1ZU1vZGVzLFxuICBhbGxSZXMsXG4gIGJhc2UsXG4gIGJyZXMsXG4gIGljb25TaXplLFxuICBsZWZ0b3ZlcixcbiAgcXVlcnksXG4gIHJlbGljRXN0aW1hdGVUYWJsZSxcbiAgc2hlZXRJZCxcbiAgdXJsLFxuICB1c2VyRmllbGRzLFxuICB2ZXJiLFxuICB4aCxcbn07XG4iXX0=