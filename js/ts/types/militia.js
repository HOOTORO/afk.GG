import { AbEx } from "../model/constants.js";
import { Spectators } from "./abex-resource.js";
export class Militia {
    baseStamRecovery;
    start = new Date();
    _viewers;
    specs = new Spectators();
    constructor(plebs) {
        this.viewers = plebs;
        this.baseStamRecovery = 4;
    }
    set viewers(n) {
        this._viewers = n;
    }
    get viewers() {
        return this._viewers;
    }
    StamIncome(hasSpectator) {
        const inc = this.baseStamRecovery +
            (this.baseStamRecovery * this.viewers * AbEx.spectatorMod) / 100;
        if (hasSpectator) {
            return inc / AbEx.sodFastenMod;
        }
        return inc;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWlsaXRpYS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3NyYy90eXBlcy9taWxpdGlhLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUM3QyxPQUFPLEVBQUUsVUFBVSxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFHaEQsTUFBTSxPQUFPLE9BQU87SUFDbEIsZ0JBQWdCLENBQVM7SUFFekIsS0FBSyxHQUFTLElBQUksSUFBSSxFQUFFLENBQUM7SUFFekIsUUFBUSxDQUFTO0lBRWpCLEtBQUssR0FBZSxJQUFJLFVBQVUsRUFBRSxDQUFDO0lBRXJDLFlBQVksS0FBYTtRQUN2QixJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQztRQUNyQixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFDRCxJQUFJLE9BQU8sQ0FBQyxDQUFTO1FBQ25CLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDO0lBQ3BCLENBQUM7SUFDRCxJQUFJLE9BQU87UUFDVCxPQUFPLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDdkIsQ0FBQztJQUNELFVBQVUsQ0FBQyxZQUFzQjtRQUMvQixNQUFNLEdBQUcsR0FDUCxJQUFJLENBQUMsZ0JBQWdCO1lBQ3JCLENBQUMsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxHQUFHLEdBQUcsQ0FBQztRQUNuRSxJQUFJLFlBQVksRUFBRSxDQUFDO1lBQ2pCLE9BQU8sR0FBRyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7UUFDakMsQ0FBQztRQUNELE9BQU8sR0FBRyxDQUFDO0lBQ2IsQ0FBQztDQUNGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWJFeCB9IGZyb20gXCIuLi9tb2RlbC9jb25zdGFudHMuanNcIjtcbmltcG9ydCB7IFNwZWN0YXRvcnMgfSBmcm9tIFwiLi9hYmV4LXJlc291cmNlLmpzXCI7XG5pbXBvcnQgeyBFeHBlZGl0b3IgfSBmcm9tIFwiLi9leHBlZGl0b3IuanNcIjtcblxuZXhwb3J0IGNsYXNzIE1pbGl0aWEge1xuICBiYXNlU3RhbVJlY292ZXJ5OiBudW1iZXI7XG5cbiAgc3RhcnQ6IERhdGUgPSBuZXcgRGF0ZSgpO1xuXG4gIF92aWV3ZXJzOiBudW1iZXI7XG5cbiAgc3BlY3M6IFNwZWN0YXRvcnMgPSBuZXcgU3BlY3RhdG9ycygpO1xuXG4gIGNvbnN0cnVjdG9yKHBsZWJzOiBudW1iZXIpIHtcbiAgICB0aGlzLnZpZXdlcnMgPSBwbGVicztcbiAgICB0aGlzLmJhc2VTdGFtUmVjb3ZlcnkgPSA0O1xuICB9XG4gIHNldCB2aWV3ZXJzKG46IG51bWJlcikge1xuICAgIHRoaXMuX3ZpZXdlcnMgPSBuO1xuICB9XG4gIGdldCB2aWV3ZXJzKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuX3ZpZXdlcnM7XG4gIH1cbiAgU3RhbUluY29tZShoYXNTcGVjdGF0b3I/OiBib29sZWFuKTogbnVtYmVyIHtcbiAgICBjb25zdCBpbmMgPVxuICAgICAgdGhpcy5iYXNlU3RhbVJlY292ZXJ5ICtcbiAgICAgICh0aGlzLmJhc2VTdGFtUmVjb3ZlcnkgKiB0aGlzLnZpZXdlcnMgKiBBYkV4LnNwZWN0YXRvck1vZCkgLyAxMDA7XG4gICAgaWYgKGhhc1NwZWN0YXRvcikge1xuICAgICAgcmV0dXJuIGluYyAvIEFiRXguc29kRmFzdGVuTW9kO1xuICAgIH1cbiAgICByZXR1cm4gaW5jO1xuICB9XG59XG4iXX0=